webpackJsonp([1],{"/uTw":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("//Fk"),n=i.n(a),s=i("Zrlr"),o=i.n(s),l=i("wxAW"),r=i.n(l),d=i("mtWM"),u=i.n(d),c=i("DEN3"),m=i.n(c),h=i("aFVK"),f=new(function(){function e(){o()(this,e)}return r()(e,[{key:"getAdminData",value:function(e){return u()({url:m.a.service.host+"/bguser/page",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"addAdminData",value:function(e){return u()({url:m.a.service.host+"/bguser/add",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"delAdminData",value:function(e){return u()({url:m.a.service.host+"/bguser/delete",method:"post",headers:{authKey:Object(h.a)("authKey")},params:e})}},{key:"updateAdminData",value:function(e){return u()({url:m.a.service.host+"/bguser/update",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"searchAdminPermission",value:function(e){return u()({url:m.a.service.host+"/bguser/privilege/authorities",method:"post",headers:{authKey:Object(h.a)("authKey")},params:e})}},{key:"addAdminPermission",value:function(e){return u()({url:m.a.service.host+"/bguser/config/privilege/authorities",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"searchAdminRole",value:function(e){return u()({url:m.a.service.host+"/bguser/roles",method:"post",headers:{authKey:Object(h.a)("authKey")},params:e})}},{key:"addAdminRole",value:function(e){return u()({url:m.a.service.host+"/bguser/config/roles",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"searchAdminMenu",value:function(e){return u()({url:m.a.service.host+"/bguser/privilege/menu",method:"post",headers:{authKey:Object(h.a)("authKey")},params:e})}},{key:"addAdminMenu",value:function(e){return u()({url:m.a.service.host+"/bguser/config/privilege/menu",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}}]),e}()),p={getAdminData:function(e,t){e.commit;return new n.a(function(e,i){f.getAdminData(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},addAdminData:function(e,t){e.commit;return new n.a(function(e,i){f.addAdminData(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},delAdminData:function(e,t){e.commit;return new n.a(function(e,i){f.delAdminData(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},updateAdminData:function(e,t){e.commit;return new n.a(function(e,i){f.updateAdminData(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},searchAdminPermission:function(e,t){e.commit;return new n.a(function(e,i){f.searchAdminPermission(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},addAdminPermission:function(e,t){e.commit;return new n.a(function(e,i){f.addAdminPermission(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},searchAdminRole:function(e,t){e.commit;return new n.a(function(e,i){f.searchAdminRole(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},addAdminRole:function(e,t){e.commit;return new n.a(function(e,i){f.addAdminRole(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},searchAdminMenu:function(e,t){e.commit;return new n.a(function(e,i){f.searchAdminMenu(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},addAdminMenu:function(e,t){e.commit;return new n.a(function(e,i){f.addAdminMenu(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})}};t.default={state:{},mutations:{},actions:p}},"19nU":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("//Fk"),n=i.n(a),s=i("Zrlr"),o=i.n(s),l=i("wxAW"),r=i.n(l),d=i("mtWM"),u=i.n(d),c=i("DEN3"),m=i.n(c),h=i("aFVK"),f=new(function(){function e(){o()(this,e)}return r()(e,[{key:"getPermissionData",value:function(e){return u()({url:m.a.service.host+"/authority/page",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"addPermissionData",value:function(e){return u()({url:m.a.service.host+"/authority/add",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"delPermissionData",value:function(e){return u()({url:m.a.service.host+"/authority/delete?id="+e,method:"get",headers:{authKey:Object(h.a)("authKey")}})}},{key:"updatePermissionData",value:function(e){return u()({url:m.a.service.host+"/authority/update",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}}]),e}()),p={getPermissionData:function(e,t){e.commit;return new n.a(function(e,i){f.getPermissionData(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},addPermissionData:function(e,t){e.commit;return new n.a(function(e,i){f.addPermissionData(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},delPermissionData:function(e,t){e.commit;return new n.a(function(e,i){f.delPermissionData(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},updatePermissionData:function(e,t){e.commit;return new n.a(function(e,i){f.updatePermissionData(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})}};t.default={state:{permissionData:[""]},mutations:{GET_PERMISSION_DATA:function(e,t){e.permissionData=t}},actions:p}},"2UD7":function(e,t){},"2mV7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("gNcp"),n={};a.keys().forEach(function(e){"./index.js"!==e&&(n[e.replace(/(\.\/|\.js)/g,"")]=a(e).default)}),t.default=n},"3K1i":function(e,t){},"70El":function(e,t){},"7ipI":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("//Fk"),n=i.n(a),s=i("Zrlr"),o=i.n(s),l=i("wxAW"),r=i.n(l),d=i("mtWM"),u=i.n(d),c=i("DEN3"),m=i.n(c),h=i("IcnI"),f=new(function(){function e(){o()(this,e)}return r()(e,[{key:"getAsideList",value:function(){return u()({url:m.a.service.host+"/bguser/menu",method:"post",headers:{authKey:h.a.state.login.authKey}})}},{key:"getAllLeaf",value:function(){return u()({url:m.a.service.host+"/menu/all-leaf",method:"post",headers:{authKey:h.a.state.login.authKey}})}}]),e}()),p={getAsideList:function(e){var t=e.commit;return new n.a(function(e,i){f.getAsideList().then(function(i){var a=i.data;"0x0000"===a.status&&t("GET_ASIDE_LIST",a.data),e(a)}).catch(function(e){i(e)})})},getAllLeaf:function(e){e.commit;return new n.a(function(e,t){f.getAllLeaf().then(function(t){var i=t.data;e(i)}).catch(function(e){t(e)})})}};t.default={state:{asideList:[]},mutations:{GET_ASIDE_LIST:function(e,t){e.asideList=t}},actions:p}},"8S+a":function(e,t){},DEN3:function(e,t){e.exports={service:{host:"http://47.95.250.247/admin-api"}}},FOGP:function(e,t){},GYl7:function(e,t){},IcnI:function(e,t,i){"use strict";var a=i("7+uW"),n=i("NYxO"),s=i("2mV7");a.default.use(n.a),t.a=new n.a.Store({modules:s.default,strict:!1})},KFVf:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("7+uW"),n=i("IcnI"),s={name:"app",$store:n.a},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=i("VU/8")(s,o,!1,function(e){i("FOGP")},null,null).exports,r=i("/ocq"),d={data:function(){return{loginData:{username:"superadmin",password:"superpassword"},passwordStatus:!1}},methods:{login:function(){var e=this;this.loginData.username&&this.loginData.password?this.$store.dispatch("login",this.loginData).then(function(t){"0x0000"===t.status?e.$router.push("/bm"):e.$message({showClose:!0,message:t.message,type:"warning"})}).catch(function(t){console.log(t),e.$message({showClose:!0,message:"服务异常请充实",type:"warning"})}):this.$message({showClose:!0,message:"请输入账号密码",type:"warning"})},passwordFouce:function(){this.passwordStatus=!0},passwordBlur:function(){this.passwordStatus=!1}},mounted:function(){}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"login"}},[i("div",{staticClass:"wrapper"},[i("div",{staticClass:"login"},[i("div",{staticClass:"loginform"},[i("div",{class:{password:e.passwordStatus},attrs:{id:"owl-login"}},[i("div",{staticClass:"hand"}),e._v(" "),i("div",{staticClass:"hand hand-r"}),e._v(" "),e._m(0)]),e._v(" "),i("div",{staticClass:"pad"},[i("div",{staticClass:"control-group"},[i("div",{staticClass:"controls"},[i("el-input",{attrs:{placeholder:"请输入账号",id:"username",autofocus:""},model:{value:e.loginData.username,callback:function(t){e.$set(e.loginData,"username",t)},expression:"loginData.username"}})],1)]),e._v(" "),i("div",{staticClass:"control-group"},[i("div",{staticClass:"controls"},[i("el-input",{attrs:{type:"password",placeholder:"请输入密码",id:"password"},on:{focus:function(t){e.passwordFouce()},blur:function(t){e.passwordBlur()}},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}})],1)]),e._v(" "),e._m(1)]),e._v(" "),i("div",{staticClass:"form-actions"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.login()}}},[e._v("登录")])],1)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"arms"},[t("div",{staticClass:"arm"}),this._v(" "),t("div",{staticClass:"arm arm-r"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"control-group"},[t("div",{staticClass:"controls"},[t("div",{staticClass:"message"},[this._v("账号或密码错误")])])])}]};var c=i("VU/8")(d,u,!1,function(e){i("qb8h")},null,null).exports,m={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("home")])},staticRenderFns:[]},h=i("VU/8")(null,m,!1,null,null,null).exports,f=i("aFVK"),p={name:"",data:function(){return{realname:""}},mounted:function(){this.getUserInfo()},methods:{getUserInfo:function(){var e=this;this.$store.dispatch("loginInfo").then(function(t){e.realname=t.data.realname})},logout:function(){Object(f.b)("authKey"),this.$router.push("/login")}}},b={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"head"},[i("span",[e._v(e._s(e.realname))]),e._v(" "),i("span",{on:{click:function(t){e.logout()}}},[e._v("退出")])])},staticRenderFns:[]};var v={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-aside",{attrs:{width:"250px"}},[i("el-menu",{attrs:{"default-active":"1",router:!0,"unique-opened":!0,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.asideList,function(t){return i("el-submenu",{key:t.id,attrs:{index:t.name}},[i("template",{slot:"title"},[i("span",[e._v(e._s(t.name))])]),e._v(" "),i("el-menu-item-group",e._l(t.children,function(t,a){return i("el-menu-item",{key:a,attrs:{index:t.action+"?pageId="+t.id}},[e._v(e._s(t.name))])}))],2)}))],1)},staticRenderFns:[]};var g={name:"App",data:function(){return{}},components:{Head:i("VU/8")(p,b,!1,function(e){i("cJgH")},null,null).exports,Aside:i("VU/8")({name:"Aside",computed:{asideList:function(){return this.$store.state.aside.asideList}},methods:{handleOpen:function(){},handleClose:function(){},toString:function(e){return e.tostring()}}},v,!1,function(e){i("KFVf")},null,null).exports},mounted:function(){var e=this,t=Object(f.a)("authKey");t?(this.$store.dispatch("getAuthkey",t),this.$store.dispatch("getAsideList").then(function(t){console.log(t),"0x5002"===t.status&&e.$router.push("/bm")})):this.$router.push("/bm")},methods:{getBtnList:function(e){this.$store.dispatch("getBtnList",{pageId:e})},logout:function(){Object(f.b)("authKey"),this.$router.push("/login")}},watch:{$route:function(){var e=this.$route.query.pageId;e&&this.getBtnList(e)},authKey:function(){this.authKey||this.$router.push("/bm")}}},D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrapper"},[t("Head"),this._v(" "),t("div",{staticClass:"inner"},[t("div",{staticClass:"main"},[t("Aside",{staticClass:"sidebar"}),this._v(" "),t("div",{staticClass:"content"},[t("router-view")],1)],1)])],1)},staticRenderFns:[]};var _=i("VU/8")(g,D,!1,function(e){i("3K1i")},null,null).exports,y={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-search"},[i("el-input",{attrs:{size:"small"},model:{value:e.userSearch,callback:function(t){e.userSearch=t},expression:"userSearch"}}),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.resetSearch()}}},[e._v("重置")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search",disabled:e.userSearch.length<=0},on:{click:function(t){e.StartSearch()}}},[e._v("搜索")])],1)},staticRenderFns:[]};var A=i("VU/8")({name:"userSearch",data:function(){return{userSearch:""}},computed:{searchId:function(){return this.$store.state.user.searchId}},methods:{StartSearch:function(){this.$store.dispatch("updateSearchId",this.userSearch),this.$emit("search")},resetSearch:function(){this.searchId&&(this.$store.dispatch("updateSearchId",""),this.$emit("search"))}}},y,!1,function(e){i("8S+a")},null,null).exports,P={name:"Admin",data:function(){return{addAdminDialogVisible:!1,addAdminData:{username:"",password:"",realname:"",email:"",telephone:"",isEnable:!1},editAdminDialogVisible:!1,editAdminData:{id:"",password:"",realname:"",email:"",telephone:"",isEnable:!1},delAdminDialogVisible:!1,delAdminId:0,adminData:[],currentPage:1,pageSize:20,totalSize:0,tabMaxHeight:0,editAdminPermissionDialogVisible:!1,permissionData:[],roleData:[],adminPermissionData:[],adminRoleData:[],currentAdminId:"",editAdminRoleDialogVisible:!1,menuList:[],defaultProps:{children:"children",label:"name"},editAdminMenuDialogVisible:!1,adminMenuData:[]}},computed:{searchId:function(){return this.$store.state.user.searchId}},components:{Search:A},mounted:function(){this.getAdminData()},methods:{getAdminData:function(){var e=this;this.$store.dispatch("getAdminData",{pageNum:this.currentPage,pageSize:this.pageSize,name:this.searchId}).then(function(t){e.adminData=t.data.list,e.totalSize=t.data.total;var i=document.body.clientHeight;e.tabMaxHeight=i-60-30-30-50-50})},refreshAdminList:function(){this.getAdminData()},searchAdminData:function(){this.getAdminData()},addAdmin:function(){this.addAdminDialogVisible=!0},submitAddAdmin:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.addAdminDialogVisible=!1,t.$store.dispatch("addAdminData",t.addAdminData).then(function(e){t.getAdminData()})})},delAdminItem:function(e){this.delAdminId=e.id,this.delAdminDialogVisible=!0},submitDelAdmin:function(){var e=this;this.delAdminDialogVisible=!1,this.$store.dispatch("delAdminData",{id:this.delAdminId}).then(function(t){e.getAdminData()}).catch(function(e){throw e})},editAdminItem:function(e){this.editAdminData.id=e.id,this.editAdminData.password=e.password,this.editAdminData.realname=e.realname,this.editAdminData.email=e.email,this.editAdminData.telephone=e.telephone,this.editAdminData.isEnable=e.isEnable,this.editAdminDialogVisible=!0},submitEditAdmin:function(){var e=this;this.$store.dispatch("updateAdminData",this.editAdminData).then(function(t){e.getAdminData()}),this.editAdminDialogVisible=!1},addAdminPermission:function(e){var t=this;this.currentAdminId=e.id,this.editAdminPermissionDialogVisible=!0,this.$store.dispatch("getPermissionData",{}).then(function(e){t.permissionData=e.data.list}),this.$store.dispatch("searchAdminPermission",{userId:this.currentAdminId}).then(function(e){t.adminPermissionData=e.data})},submitEditAdminPermission:function(){var e=this;this.editAdminPermissionDialogVisible=!1,this.$store.dispatch("addAdminPermission",{userId:this.currentAdminId,authorityIds:this.adminPermissionData}).then(function(t){e.getAdminData()})},addAdminRole:function(e){var t=this;this.currentAdminId=e.id,this.editAdminRoleDialogVisible=!0,this.$store.dispatch("getRoleData",{}).then(function(e){t.roleData=e.data.list}),this.$store.dispatch("searchAdminRole",{userId:this.currentAdminId}).then(function(e){t.adminRoleData=e.data})},submitEditAdminRole:function(){var e=this;this.editAdminRoleDialogVisible=!1,this.$store.dispatch("addAdminRole",{userId:this.currentAdminId,roleIds:this.adminRoleData}).then(function(t){e.getAdminData()})},addAdminMenu:function(e){var t=this;this.currentAdminId=e.id,this.editAdminMenuDialogVisible=!0,this.$store.dispatch("getMenuList").then(function(e){t.menuList=e.data}),this.$store.dispatch("searchAdminMenu",{userId:this.currentAdminId}).then(function(e){t.adminMenuData=e.data})},submitEditAdminMenu:function(){var e=this;this.editAdminMenuDialogVisible=!1,this.$store.dispatch("addAdminMenu",{userId:this.currentAdminId,menuIds:this.$refs.tree.getCheckedKeys()}).then(function(t){e.getAdminData()})},handleClose:function(){this.addAdminDialogVisible=!1,this.delAdminDialogVisible=!1,this.editAdminDialogVisible=!1,this.editAdminPermissionDialogVisible=!1,this.editAdminRoleDialogVisible=!1,this.editAdminMenuDialogVisible=!1},handleSizeChange:function(e){this.pageSize=e,this.getAdminData()},handleCurrentChange:function(e){this.currentPage=e,this.getAdminData()}},watch:{addAdminDialogVisible:function(){this.addAdminDialogVisible||(this.addAdminData={username:"",password:"",realname:"",email:"",telephone:"",isEnable:!1})}}},R={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"view-container"},[i("div",{staticClass:"row breadcrumb-container"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[e._v("管理员列表")])],1)],1),e._v(" "),i("div",{staticClass:"row ope-container"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"},on:{click:function(t){e.refreshAdminList()}}},[e._v("刷新")]),e._v(" "),i("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.addAdmin()}}},[e._v("新增")]),e._v(" "),i("Search",{on:{search:function(t){e.searchAdminData()}}})],1),e._v(" "),i("div",{staticClass:"row data-container"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.adminData,border:"","max-height":e.tabMaxHeight}},[i("el-table-column",{attrs:{label:"ID",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"用户名",prop:"username"}}),e._v(" "),i("el-table-column",{attrs:{label:"真实姓名",prop:"realname"}}),e._v(" "),i("el-table-column",{attrs:{label:"邮箱",prop:"email"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),e._v(" "),i("el-table-column",{attrs:{label:"更新时间",prop:"updateTime"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){e.delAdminItem(t.row)}}},[i("i",{staticClass:"el-icon-delete"})]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){e.editAdminItem(t.row)}}},[i("i",{staticClass:"el-icon-edit"})]),e._v(" "),i("el-button",{attrs:{type:"primary ",size:"mini "},on:{click:function(i){e.addAdminPermission(t.row)}}},[e._v("权限\n          ")]),e._v(" "),i("el-button",{attrs:{type:"primary ",size:"mini "},on:{click:function(i){e.addAdminMenu(t.row)}}},[e._v("菜单\n          ")]),e._v(" "),i("el-button",{attrs:{type:"primary ",size:"mini "},on:{click:function(i){e.addAdminRole(t.row)}}},[e._v("角色\n          ")])]}}])})],1)],1),e._v(" "),i("div",{staticClass:"row page-container"},[i("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:"新增管理员",visible:e.addAdminDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.addAdminDialogVisible=t}}},[i("el-form",{ref:"addAdminData",attrs:{"label-position":"left","label-width":"120px",model:e.addAdminData}},[i("el-form-item",{attrs:{label:"用户名",prop:"username"}},[i("el-input",{model:{value:e.addAdminData.username,callback:function(t){e.$set(e.addAdminData,"username",t)},expression:"addAdminData.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密码",prop:"password"}},[i("el-input",{model:{value:e.addAdminData.password,callback:function(t){e.$set(e.addAdminData,"password",t)},expression:"addAdminData.password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"真实姓名",prop:"realname"}},[i("el-input",{model:{value:e.addAdminData.realname,callback:function(t){e.$set(e.addAdminData,"realname",t)},expression:"addAdminData.realname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{model:{value:e.addAdminData.email,callback:function(t){e.$set(e.addAdminData,"email",t)},expression:"addAdminData.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号",prop:"telephone"}},[i("el-input",{model:{value:e.addAdminData.telephone,callback:function(t){e.$set(e.addAdminData,"telephone",t)},expression:"addAdminData.telephone"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.addAdminDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitAddAdmin("addAdminData")}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"删除管理员",visible:e.delAdminDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.delAdminDialogVisible=t}}},[i("span",[e._v("你确定要删除该管理员")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.delAdminDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.submitDelAdmin()}}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"编辑管理员",visible:e.editAdminDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editAdminDialogVisible=t}}},[i("el-form",{ref:"editAdminData",attrs:{"label-position":"left","label-width":"120px",model:e.editAdminData}},[i("el-form-item",{attrs:{label:"密码",prop:"password"}},[i("el-input",{model:{value:e.editAdminData.password,callback:function(t){e.$set(e.editAdminData,"password",t)},expression:"editAdminData.password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"真实姓名",prop:"realname"}},[i("el-input",{model:{value:e.editAdminData.realname,callback:function(t){e.$set(e.editAdminData,"realname",t)},expression:"editAdminData.realname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[i("el-input",{model:{value:e.editAdminData.email,callback:function(t){e.$set(e.editAdminData,"email",t)},expression:"editAdminData.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号",prop:"telephone"}},[i("el-input",{model:{value:e.editAdminData.telephone,callback:function(t){e.$set(e.editAdminData,"telephone",t)},expression:"editAdminData.telephone"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.editAdminDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitEditAdmin("editAdminData")}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{ref:"multipleTable",attrs:{title:"添加权限",visible:e.editAdminPermissionDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editAdminPermissionDialogVisible=t}}},[i("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.adminPermissionData,callback:function(t){e.adminPermissionData=t},expression:"adminPermissionData"}},e._l(e.permissionData,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.editAdminPermissionDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitEditAdminPermission()}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{ref:"multipleTable",attrs:{title:"添加角色",visible:e.editAdminRoleDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editAdminRoleDialogVisible=t}}},[i("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.adminRoleData,callback:function(t){e.adminRoleData=t},expression:"adminRoleData"}},e._l(e.roleData,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.editAdminRoleDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitEditAdminRole()}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{ref:"multipleTable",attrs:{title:"添加菜单",visible:e.editAdminMenuDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editAdminMenuDialogVisible=t}}},[i("el-tree",{ref:"tree",attrs:{"node-key":"id","default-expand-all":"","expand-on-click-node":!1,data:e.menuList,props:e.defaultProps,"show-checkbox":"","default-checked-keys":e.adminMenuData}}),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.editAdminMenuDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitEditAdminMenu()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var w=i("VU/8")(P,R,!1,function(e){i("ao6r")},null,null).exports,k={name:"Role",data:function(){return{addRoleDialogVisible:!1,addRoleData:{code:"",name:""},editRoleDialogVisible:!1,editRoleData:{id:"",code:"",name:""},delRoleDialogVisible:!1,delRoleId:"",currentPage:1,pageSize:20,totalSize:0,roleData:[],tabMaxHeight:0,editRolePermissionDialogVisible:!1,permissionData:[],rolePermissionData:[],currentRoleId:"",menuList:[],defaultProps:{children:"children",label:"name"},editRoleMenuDialogVisible:!1,roleMenuData:[]}},computed:{searchId:function(){return this.$store.state.user.searchId}},components:{Search:A},mounted:function(){this.getRoleData()},methods:{getRoleData:function(){var e=this;this.$store.dispatch("getRoleData",{pageNum:this.currentPage,pageSize:this.pageSize,name:this.searchId}).then(function(t){e.roleData=t.data.list,e.totalSize=t.data.total;var i=document.body.clientHeight;e.tabMaxHeight=i-60-30-30-50-50})},refreshRoleList:function(){this.getRoleData()},searchRoleData:function(){this.getRoleData()},addRole:function(){this.addRoleDialogVisible=!0},submitAddRole:function(e){var t=this;this.addRoleDialogVisible=!1,this.$store.dispatch("addRoleData",this.addRoleData).then(function(e){t.getRoleData()}).catch(function(e){throw e})},delRoleItem:function(e){this.delRoleDialogVisible=!0,this.delRoleId=e.id},submitDelRole:function(){var e=this;this.delRoleDialogVisible=!1,this.$store.dispatch("delRoleData",{id:this.delRoleId}).then(function(t){e.getRoleData()}).catch(function(e){throw e})},editRoleItem:function(e){this.editRoleData.id=e.id,this.editRoleData.code=e.code,this.editRoleData.name=e.name,this.editRoleDialogVisible=!0},submitEditRole:function(){var e=this;this.editRoleDialogVisible=!1,this.$store.dispatch("updateRoleData",this.editRoleData).then(function(t){e.getRoleData()}).catch(function(e){throw e})},addRolePermission:function(e){var t=this;this.currentRoleId=e.id,this.editRolePermissionDialogVisible=!0,this.$store.dispatch("getPermissionData",{}).then(function(e){t.permissionData=e.data.list}),this.$store.dispatch("searchRolePermission",{roleId:this.currentRoleId}).then(function(e){t.rolePermissionData=e.data})},submitEditRolePermission:function(){var e=this;this.editRolePermissionDialogVisible=!1,this.$store.dispatch("addRolePermission",{roleId:this.currentRoleId,authorityIds:this.rolePermissionData}).then(function(t){e.getRoleData()})},addRoleMenu:function(e){var t=this;this.currentRoleId=e.id,this.editRoleMenuDialogVisible=!0,this.$store.dispatch("getMenuList").then(function(e){t.menuList=e.data}),this.$store.dispatch("searchRoleMenu",{roleId:this.currentRoleId}).then(function(e){t.roleMenuData=e.data})},submitEditRoleMenu:function(){var e=this;this.editRoleMenuDialogVisible=!1,this.$store.dispatch("addRoleMenu",{roleId:this.currentRoleId,menuIds:this.$refs.tree.getCheckedKeys()}).then(function(t){e.getRoleData()})},handleClose:function(){this.addRoleDialogVisible=!1,this.delRoleDialogVisible=!1,this.editRoleDialogVisible=!1,this.editRolePermissionDialogVisible=!1,this.editRoleMenuDialogVisible=!1},handleSizeChange:function(e){this.pageSize=e,this.getRoleData()},handleCurrentChange:function(e){this.currentPage=e,this.getRoleData()}},watch:{addRoleDialogVisible:function(){this.addRoleDialogVisible||(this.addRoleData={code:"",name:""})}}},M={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"view-container"},[i("div",{staticClass:"row breadcrumb-container"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[e._v("角色列表")])],1)],1),e._v(" "),i("div",{staticClass:"row ope-container"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"},on:{click:function(t){e.refreshRoleList()}}},[e._v("刷新")]),e._v(" "),i("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.addRole()}}},[e._v("新增")]),e._v(" "),i("Search",{on:{search:function(t){e.searchRoleData()}}})],1),e._v(" "),i("div",{staticClass:"row"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roleData,border:"","max-height":e.tabMaxHeight}},[i("el-table-column",{attrs:{label:"ID",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"名称",prop:"name"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间 ",prop:"createTime"}}),e._v(" "),i("el-table-column",{attrs:{label:"最近修改时间 ",prop:"updateTime"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作 ",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"danger ",size:"mini "},on:{click:function(i){e.delRoleItem(t.row)}}},[i("i",{staticClass:"el-icon-delete "})]),e._v(" "),i("el-button",{attrs:{type:"primary ",size:"mini "},on:{click:function(i){e.editRoleItem(t.row)}}},[i("i",{staticClass:"el-icon-edit "})]),e._v(" "),i("el-button",{attrs:{type:"primary ",size:"mini "},on:{click:function(i){e.addRolePermission(t.row)}}},[e._v("权限\n          ")]),e._v(" "),i("el-button",{attrs:{type:"primary ",size:"mini "},on:{click:function(i){e.addRoleMenu(t.row)}}},[e._v("菜单\n          ")])]}}])})],1)],1),e._v(" "),i("div",{staticClass:"row page-container "},[i("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper ",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:"新增角色",visible:e.addRoleDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.addRoleDialogVisible=t}}},[i("el-form",{ref:"addRoleData ",attrs:{"label-position":"left","label-width":"120px",model:e.addRoleData}},[i("el-form-item",{attrs:{label:"角色标识",prop:"code"}},[i("el-input",{model:{value:e.addRoleData.code,callback:function(t){e.$set(e.addRoleData,"code",t)},expression:"addRoleData.code "}})],1),e._v(" "),i("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[i("el-input",{model:{value:e.addRoleData.name,callback:function(t){e.$set(e.addRoleData,"name",t)},expression:"addRoleData.name"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.addRoleDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitAddRole("addRoleData")}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"删除角色 ",visible:e.delRoleDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.delRoleDialogVisible=t}}},[i("span",[e._v("你确定要删除该角色")]),e._v(" "),i("span",{staticClass:"dialog-footer ",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.delRoleDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.submitDelRole()}}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"编辑角色",visible:e.editRoleDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editRoleDialogVisible=t}}},[i("el-form",{ref:"editRoleData",attrs:{"label-position":"left","label-width":"120px ",model:e.editRoleData}},[i("el-form-item",{attrs:{label:"标识",prop:"code"}},[i("el-input",{model:{value:e.editRoleData.code,callback:function(t){e.$set(e.editRoleData,"code",t)},expression:"editRoleData.code"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"名称",prop:"name"}},[i("el-input",{model:{value:e.editRoleData.name,callback:function(t){e.$set(e.editRoleData,"name",t)},expression:"editRoleData.name"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.editRoleDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitEditRole("editRoleData")}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{ref:"multipleTable",staticClass:"edit-role-permission",attrs:{title:"添加权限",visible:e.editRolePermissionDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editRolePermissionDialogVisible=t}}},[i("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.rolePermissionData,callback:function(t){e.rolePermissionData=t},expression:"rolePermissionData"}},e._l(e.permissionData,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.editRolePermissionDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitEditRolePermission()}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{ref:"multipleTable",staticClass:"edit-role-permission",attrs:{title:"添加菜单",visible:e.editRoleMenuDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editRoleMenuDialogVisible=t}}},[i("el-tree",{ref:"tree",attrs:{"node-key":"id","default-expand-all":"","expand-on-click-node":!1,data:e.menuList,props:e.defaultProps,"show-checkbox":"","default-checked-keys":e.roleMenuData}}),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.editRoleMenuDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitEditRoleMenu()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var V=i("VU/8")(k,M,!1,function(e){i("hJf1")},null,null).exports,I={name:"permission",data:function(){return{addPermissionDialogVisible:!1,addPermissionData:{code:"",name:"",action:"",menuId:"",idOnPage:""},delPermissionDialogVisible:!1,delPermissionId:0,editPermissionDialogVisible:!1,editPermissionData:{id:"",code:"",name:"",action:""},currentPage:1,pageSize:20,totalSize:0,permissionData:[],allLeafData:[],tabMaxHeight:0}},computed:{searchId:function(){return this.$store.state.user.searchId}},components:{Search:A},mounted:function(){this.getPermissionData()},methods:{getPermissionData:function(){var e=this;this.$store.dispatch("getPermissionData",{pageNum:this.currentPage,pageSize:this.pageSize,name:this.searchId}).then(function(t){e.permissionData=t.data.list,e.totalSize=t.data.total;var i=document.body.clientHeight;e.tabMaxHeight=i-60-30-30-50-50})},refreshPermissionList:function(){this.getPermissionData()},searchPermissionData:function(){this.getPermissionData()},addPermission:function(){var e=this;this.addPermissionDialogVisible=!0,this.$store.dispatch("getAllLeaf").then(function(t){console.log("[allLeafData]",t.data),e.allLeafData=t.data})},submitAddPermission:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.addPermissionDialogVisible=!1,t.$store.dispatch("addPermissionData",t.addPermissionData).then(function(e){t.getPermissionData()})})},delPermissionItem:function(e){this.delPermissionId=e.id,this.delPermissionDialogVisible=!0},submitDelPermission:function(){var e=this;this.$store.dispatch("delPermissionData",this.delPermissionId).then(function(t){e.getPermissionData()}),this.delPermissionDialogVisible=!1},editPermissionItem:function(e){var t=this;this.editPermissionData.id=e.id,this.editPermissionData.code=e.code,this.editPermissionData.name=e.name,this.editPermissionData.action=e.action,this.editPermissionDialogVisible=!0,this.$store.dispatch("getAllLeaf").then(function(e){console.log("[allLeafData]",e.data),t.allLeafData=e.data})},submitEditPermission:function(){var e=this;this.$store.dispatch("updatePermissionData",this.editPermissionData).then(function(t){e.getPermissionData()}),this.editPermissionDialogVisible=!1},handleClose:function(){this.addPermissionDialogVisible=!1,this.delPermissionDialogVisible=!1,this.editPermissionDialogVisible=!1},handleSizeChange:function(e){this.pageSize=e,this.getPermissionData()},handleCurrentChange:function(e){this.currentPage=e,this.getPermissionData()}},watch:{addPermissionDialogVisible:function(){this.addPermissionDialogVisible||(this.addPermissionData={code:"",name:"",action:"",menuId:"",idOnPage:""})}}},C={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"view-container"},[i("div",{staticClass:"row breadcrumb-container"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[e._v("权限列表")])],1)],1),e._v(" "),i("div",{staticClass:"row ope-container"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",size:"small"},on:{click:function(t){e.refreshPermissionList()}}},[e._v("刷新")]),e._v(" "),i("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.addPermission()}}},[e._v("新增")]),e._v(" "),i("Search",{on:{search:function(t){e.searchPermissionData()}}})],1),e._v(" "),i("div",{staticClass:"row data-container"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.permissionData,border:"","max-height":e.tabMaxHeight}},[i("el-table-column",{attrs:{label:"ID",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{label:"标识",prop:"code"}}),e._v(" "),i("el-table-column",{attrs:{label:"名称",prop:"name"}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"createTime"}}),e._v(" "),i("el-table-column",{attrs:{label:"更新时间",prop:"updateTime"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){e.delPermissionItem(t.row)}}},[i("i",{staticClass:"el-icon-delete"})]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){e.editPermissionItem(t.row)}}},[i("i",{staticClass:"el-icon-edit"})])]}}])})],1)],1),e._v(" "),i("div",{staticClass:"row page-container"},[i("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),i("el-dialog",{attrs:{title:"新增权限",visible:e.addPermissionDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.addPermissionDialogVisible=t}}},[i("el-form",{ref:"addPermissionData",attrs:{"label-position":"left","label-width":"80px",model:e.addPermissionData}},[i("el-form-item",{attrs:{label:"标识",prop:"code"}},[i("el-input",{model:{value:e.addPermissionData.code,callback:function(t){e.$set(e.addPermissionData,"code",t)},expression:"addPermissionData.code"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"名称",prop:"name"}},[i("el-input",{model:{value:e.addPermissionData.name,callback:function(t){e.$set(e.addPermissionData,"name",t)},expression:"addPermissionData.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"地址",prop:"action"}},[i("el-input",{model:{value:e.addPermissionData.action,callback:function(t){e.$set(e.addPermissionData,"action",t)},expression:"addPermissionData.action"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"所属页面",prop:"menuId"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addPermissionData.menuId,callback:function(t){e.$set(e.addPermissionData,"menuId",t)},expression:"addPermissionData.menuId"}},e._l(e.allLeafData,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"所属按钮",prop:"idOnPage"}},[i("el-input",{model:{value:e.addPermissionData.idOnPage,callback:function(t){e.$set(e.addPermissionData,"idOnPage",t)},expression:"addPermissionData.idOnPage"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.addPermissionDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitAddPermission("addPermissionData")}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"删除权限",visible:e.delPermissionDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.delPermissionDialogVisible=t}}},[i("span",[e._v("你确定要删除该权限")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.delPermissionDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.submitDelPermission()}}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{title:"编辑权限",visible:e.editPermissionDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editPermissionDialogVisible=t}}},[i("el-form",{ref:"editPermissionData",attrs:{"label-position":"left","label-width":"80px",model:e.editPermissionData}},[i("el-form-item",{attrs:{label:"标识",prop:"code"}},[i("el-input",{model:{value:e.editPermissionData.code,callback:function(t){e.$set(e.editPermissionData,"code",t)},expression:"editPermissionData.code"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"名称",prop:"name"}},[i("el-input",{model:{value:e.editPermissionData.name,callback:function(t){e.$set(e.editPermissionData,"name",t)},expression:"editPermissionData.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"地址",prop:"action"}},[i("el-input",{model:{value:e.editPermissionData.action,callback:function(t){e.$set(e.editPermissionData,"action",t)},expression:"editPermissionData.action"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.editPermissionDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitEditPermission("editPermissionData")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var $=i("VU/8")(I,C,!1,function(e){i("2UD7")},null,null).exports,x={name:"men",data:function(){return{defaultProps:{children:"children",label:"name"},addMenuDialogVisible:!1,addMenu:{name:"",action:"",sortedOrder:"",parentId:""},editMenuDialogVisible:!1,editMenu:{name:"",action:"",sortedOrder:"",id:""},delMenuDialogVisible:!1,delMenuId:"",menuList:[],parentId:0,tabMaxHeight:0}},mounted:function(){this.getMenu()},methods:{getMenu:function(){var e=this;this.$store.dispatch("getMenuList").then(function(t){e.menuList=t.data})},addMenuItem:function(e){this.addMenu.parentId=e.data.id,this.addMenuDialogVisible=!0},submitAddmenu:function(){var e=this;this.addMenuDialogVisible=!1,this.$store.dispatch("addMenu",this.addMenu).then(function(t){console.log(t),e.getMenu()})},editMenuItem:function(e){this.editMenu.name=e.data.name,this.editMenu.action=e.data.action,this.editMenu.sortedOrder=e.data.sortedOrder,this.editMenu.id=e.data.id,this.editMenuDialogVisible=!0},submitEditmenu:function(){var e=this;this.editMenuDialogVisible=!1,this.$store.dispatch("editMenu",this.editMenu).then(function(t){console.log(t),e.getMenu()})},delMenuItem:function(e){this.delMenuId=e.data.id,this.delMenuDialogVisible=!0},submitDelmenu:function(){var e=this;this.delMenuDialogVisible=!1,this.$store.dispatch("delMenu",{id:this.delMenuId}).then(function(t){console.log(t),e.getMenu()})},handleClose:function(){this.addMenuDialogVisible=!1,this.editMenuDialogVisible=!1,this.delMenuDialogVisible=!1},renderContent:function(e,t){var i=this,a=t.node;t.data,t.store;return e("span",{class:"custom-tree-node"},[e("span",[a.label]),e("span",[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return i.addMenuItem(a)}}},["添加"]),e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return i.editMenuItem(a)}}},["编辑"]),e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return i.delMenuItem(a)}}},["删除"])])])}},watch:{addMenuDialogVisible:function(){this.addMenuDialogVisible||(this.addMenu={name:"",action:"",sortedOrder:"",parentId:""})}}},z={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"view-container"},[i("div",{staticClass:"row breadcrumb-container"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",[e._v("菜单列表")])],1)],1),e._v(" "),i("div",{staticClass:"row data-container"},[i("el-tree",{attrs:{"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"render-content":e.renderContent,data:e.menuList,props:e.defaultProps}})],1),e._v(" "),i("el-dialog",{attrs:{title:"添加菜单",visible:e.addMenuDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.addMenuDialogVisible=t}}},[i("el-form",{ref:"addMenu",attrs:{"label-position":"left","label-width":"80px",model:e.addMenu}},[i("el-form-item",{attrs:{label:"名称",prop:"name"}},[i("el-input",{model:{value:e.addMenu.name,callback:function(t){e.$set(e.addMenu,"name",t)},expression:"addMenu.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"地址",prop:"action"}},[i("el-input",{model:{value:e.addMenu.action,callback:function(t){e.$set(e.addMenu,"action",t)},expression:"addMenu.action"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"排序",prop:"sortedOrder"}},[i("el-input",{model:{value:e.addMenu.sortedOrder,callback:function(t){e.$set(e.addMenu,"sortedOrder",t)},expression:"addMenu.sortedOrder"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.addMenuDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitAddmenu()}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"编辑菜单",visible:e.editMenuDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editMenuDialogVisible=t}}},[i("el-form",{ref:"addMenu",attrs:{"label-position":"left","label-width":"80px",model:e.editMenu}},[i("el-form-item",{attrs:{label:"名称",prop:"name"}},[i("el-input",{model:{value:e.editMenu.name,callback:function(t){e.$set(e.editMenu,"name",t)},expression:"editMenu.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"地址",prop:"action"}},[i("el-input",{model:{value:e.editMenu.action,callback:function(t){e.$set(e.editMenu,"action",t)},expression:"editMenu.action"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"排序",prop:"sortedOrder"}},[i("el-input",{model:{value:e.editMenu.sortedOrder,callback:function(t){e.$set(e.editMenu,"sortedOrder",t)},expression:"editMenu.sortedOrder"}})],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.editMenuDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitEditmenu()}}},[e._v("确 定")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"删除菜单",visible:e.delMenuDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.delMenuDialogVisible=t}}},[i("span",[e._v("确认要删除该菜单？\n    ")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.delMenuDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.submitDelmenu()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var K=i("VU/8")(x,z,!1,function(e){i("70El")},null,null).exports,S={name:"login",data:function(){return{loginData:{username:"superadmin",password:"superpassword"},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{login:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$store.dispatch("login",t.loginData).then(function(e){"0x0000"===e.status||t.$message({showClose:!0,message:e.message,type:"warning"})}).catch(function(e){console.log(e),t.$message({showClose:!0,message:"服务异常请充实",type:"warning"})})})}}},E={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login"},[i("div",{staticClass:"title"},[e._v("登录后台管理")]),e._v(" "),i("el-form",{ref:"logindata",attrs:{"label-position":"left","label-width":"0",model:e.loginData,rules:e.rules}},[i("el-form-item",{attrs:{label:"",prop:"username"}},[i("el-input",{attrs:{placeholder:"请输入用户名","auto-complete":"name"},model:{value:e.loginData.username,callback:function(t){e.$set(e.loginData,"username",t)},expression:"loginData.username"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"",prop:" password "}},[i("el-input",{attrs:{placeholder:"请输入密码",type:"password","auto-complete":"off"},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password "}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.login("logindata")}}},[e._v("登录")])],1)],1)],1)},staticRenderFns:[]};var O=i("VU/8")(S,E,!1,function(e){i("eALW")},null,null).exports;a.default.use(r.a);var L=new r.a({routes:[{path:"/",component:c},{path:"/login",component:c},{path:"/bm",component:_,children:[{path:"/",name:"home",component:h},{path:"/user/admin",name:"admin",component:w},{path:"/user/role",name:"role",component:V},{path:"/user/permission",name:"permission",component:$},{path:"/user/menu",name:"menu",component:K},{path:"/user/log",name:"log",component:O}]}]}),j=i("zL8q"),T=i.n(j);i("tvR6"),i("GYl7");a.default.use(T.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:L,store:n.a,components:{App:l},template:"<App/>"})},aFVK:function(e,t,i){"use strict";t.c=function(e,t){sessionStorage.setItem(e,t)},t.a=function(e){return sessionStorage.getItem(e)},t.b=function(e){sessionStorage.removeItem(e)}},ao6r:function(e,t){},bREw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("//Fk"),n=i.n(a),s=i("Zrlr"),o=i.n(s),l=i("wxAW"),r=i.n(l),d=i("mtWM"),u=i.n(d),c=i("DEN3"),m=i.n(c),h=i("IcnI"),f=new(function(){function e(){o()(this,e)}return r()(e,[{key:"getAuthorization",value:function(){return{authKey:h.a.state.login.authKey}}},{key:"getPermissionList",value:function(){return u.a.get(m.a.service.host+"/user/audit/query")}},{key:"getBtnList",value:function(){return n.a.resolve({code:1,message:"",data:[{path:"",id:""}]})}},{key:"getAdmineData",value:function(){return u.a.get(m.a.service.host+"/bguser/page")}},{key:"addAdmineData",value:function(){return u.a.get(m.a.service.host+"/bguser/add")}},{key:"delAdmineData",value:function(){return u.a.get(m.a.service.host+"/bguser/delete")}},{key:"updateAdmineData",value:function(){return u.a.get(m.a.service.host+"/bguser/update")}}]),e}()),p={getBtnList:function(e,t){var i=e.commit;console.log("[getBtnList]===>",t.pageId),f.getBtnList(t).then(function(e){i("GET_BTN_LIST",e.data)})},updateSearchId:function(e,t){(0,e.commit)("UPDATE_SEARCH_ID",t)}};t.default={state:{btnList:[],searchId:""},mutations:{UPDATE_SEARCH_ID:function(e,t){e.searchId=t},GET_BTN_LIST:function(e,t){e.btnList=t}},actions:p}},cJgH:function(e,t){},eALW:function(e,t){},egBL:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("//Fk"),n=i.n(a),s=i("Zrlr"),o=i.n(s),l=i("wxAW"),r=i.n(l),d=i("mtWM"),u=i.n(d),c=i("DEN3"),m=i.n(c),h=i("aFVK"),f=new(function(){function e(){o()(this,e)}return r()(e,[{key:"getMenuList",value:function(e){return u()({url:m.a.service.host+"/menu/all",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"addMenu",value:function(e){return u()({url:m.a.service.host+"/menu/add",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"editMenu",value:function(e){return u()({url:m.a.service.host+"/menu/update",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"delMenu",value:function(e){return u()({url:m.a.service.host+"/menu/delete",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}}]),e}()),p={getMenuList:function(e,t){e.commit;return new n.a(function(e,i){f.getMenuList(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},addMenu:function(e,t){e.commit;return new n.a(function(e,i){f.addMenu(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},editMenu:function(e,t){e.commit;return new n.a(function(e,i){f.editMenu(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},delMenu:function(e,t){e.commit;return new n.a(function(e,i){f.delMenu(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})}};t.default={state:{menuList:[]},mutations:{GET_MENU_LIST:function(e,t){e.menuList=t}},actions:p}},gNcp:function(e,t,i){var a={"./admin.js":"/uTw","./aside.js":"7ipI","./index.js":"2mV7","./login.js":"jeSg","./menu.js":"egBL","./permission.js":"19nU","./role.js":"qjn9","./user.js":"bREw"};function n(e){return i(s(e))}function s(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}n.keys=function(){return Object.keys(a)},n.resolve=s,e.exports=n,n.id="gNcp"},hJf1:function(e,t){},jeSg:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("//Fk"),n=i.n(a),s=i("Zrlr"),o=i.n(s),l=i("wxAW"),r=i.n(l),d=i("mtWM"),u=i.n(d),c=i("DEN3"),m=i.n(c),h=i("aFVK"),f=new(function(){function e(){o()(this,e)}return r()(e,[{key:"login",value:function(e){return u()({url:m.a.service.host+"/user/login",method:"post",params:e})}},{key:"logout",value:function(){return u.a.get(m.a.service.host+"/user/audit/query")}},{key:"loginInfo",value:function(){return u()({url:m.a.service.host+"/bguser/info",method:"post",headers:{authKey:Object(h.a)("authKey")}})}}]),e}()),p={getAuthkey:function(e,t){(0,e.commit)("GET_AUTHKEY",t)},login:function(e,t){var i=e.commit;return new n.a(function(e,a){f.login(t).then(function(t){var a=t.data;console.log("[loginService][login]",a),i("GET_AUTHKEY",a.data.authKey),Object(h.c)("authKey",a.data.authKey),e(a)}).catch(function(e){a(e)})})},logout:function(){f.logout().then(function(e){}).catch(function(e){})},loginInfo:function(){return new n.a(function(e,t){f.loginInfo().then(function(t){var i=t.data;e(i)}).catch(function(e){t(e)})})}};t.default={state:{authKey:""},mutations:{GET_AUTHKEY:function(e,t){e.authKey=t}},actions:p}},qb8h:function(e,t){},qjn9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("//Fk"),n=i.n(a),s=i("Zrlr"),o=i.n(s),l=i("wxAW"),r=i.n(l),d=i("mtWM"),u=i.n(d),c=i("DEN3"),m=i.n(c),h=i("aFVK"),f=new(function(){function e(){o()(this,e)}return r()(e,[{key:"getRoleData",value:function(e){return u()({url:m.a.service.host+"/role/page",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"addRoleData",value:function(e){return u()({url:m.a.service.host+"/role/add",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"delRoleData",value:function(e){return u()({url:m.a.service.host+"/role/delete",method:"post",headers:{authKey:Object(h.a)("authKey")},params:e})}},{key:"updateRoleData",value:function(e){return u()({url:m.a.service.host+"/role/update",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"searchRolePermission",value:function(e){return u()({url:m.a.service.host+"/role/authorities",method:"post",headers:{authKey:Object(h.a)("authKey")},params:e})}},{key:"addRolePermission",value:function(e){return u()({url:m.a.service.host+"/role/config/authorities",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}},{key:"searchRoleMenu",value:function(e){return u()({url:m.a.service.host+"/role/menu",method:"post",headers:{authKey:Object(h.a)("authKey")},params:e})}},{key:"addRoleMenu",value:function(e){return u()({url:m.a.service.host+"/role/config/menu",method:"post",headers:{authKey:Object(h.a)("authKey")},data:e})}}]),e}()),p={getRoleData:function(e,t){e.commit;return new n.a(function(e,i){f.getRoleData(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},addRoleData:function(e,t){e.commit;return new n.a(function(e,i){f.addRoleData(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},delRoleData:function(e,t){e.commit;return new n.a(function(e,i){f.delRoleData(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},updateRoleData:function(e,t){e.commit;return new n.a(function(e,i){f.updateRoleData(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},searchRolePermission:function(e,t){e.commit;return new n.a(function(e,i){f.searchRolePermission(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},addRolePermission:function(e,t){e.commit;return new n.a(function(e,i){f.addRolePermission(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},searchRoleMenu:function(e,t){e.commit;return new n.a(function(e,i){f.searchRoleMenu(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})},addRoleMenu:function(e,t){e.commit;return new n.a(function(e,i){f.addRoleMenu(t).then(function(t){var i=t.data;e(i)}).catch(function(e){i(e)})})}};t.default={state:{},mutations:{},actions:p}},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.470ee5f8826a0e3e7b24.js.map