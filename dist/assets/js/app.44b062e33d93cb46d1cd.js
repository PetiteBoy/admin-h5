webpackJsonp([1],{"1f2b":function(e,t){},"1grr":function(e,t){},"2mV7":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("gNcp"),s={};i.keys().forEach(function(e){"./index.js"!==e&&(s[e.replace(/(\.\/|\.js)/g,"")]=i(e).default)}),t.default=s},"8S+a":function(e,t){},AK5K:function(e,t){},"C+gf":function(e,t){},CcpV:function(e,t){},DEN3:function(e,t){e.exports={service:{host:"http://47.95.250.247/admin-api"}}},Evho:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={state:{typeList:[{name:"全部",val:""},{name:"已拉黑",val:!0},{name:"正常",val:!1}],idList:[{name:"全部",val:""},{name:"居民身份证",val:"IDCARD"},{name:"军官证",val:"OFFICER"},{name:"士兵证",val:"SOLDIER"},{name:"军官离退休证",val:"RETIRED"},{name:"境外人员身份证",val:"OUTSIDE"},{name:"外交人员身份证明",val:"DIPLOMATIC"}],idListone:[{name:"居民身份证",val:"IDCARD"},{name:"军官证",val:"OFFICER"},{name:"士兵证",val:"SOLDIER"},{name:"军官离退休证",val:"RETIRED"},{name:"境外人员身份证",val:"OUTSIDE"},{name:"外交人员身份证明",val:"DIPLOMATIC"}],licenseList:[{name:"全部",val:""},{name:"A1",val:"A1"},{name:"A2",val:"A2"},{name:"A3",val:"A3"},{name:"B1",val:"B1"},{name:"B2",val:"B2"},{name:"C1",val:"C1"},{name:"C2",val:"C2"},{name:"C3",val:"C3"},{name:"C4",val:"C4"},{name:"C5",val:"C5"},{name:"D",val:"D"},{name:"E",val:"E"},{name:"F",val:"F"},{name:"M",val:"M"},{name:"N",val:"N"},{name:"P",val:"P"}],licenseListone:[{name:"A1",val:"A1"},{name:"A2",val:"A2"},{name:"A3",val:"A3"},{name:"B1",val:"B1"},{name:"B2",val:"B2"},{name:"C1",val:"C1"},{name:"C2",val:"C2"},{name:"C3",val:"C3"},{name:"C4",val:"C4"},{name:"C5",val:"C5"},{name:"D",val:"D"},{name:"E",val:"E"},{name:"F",val:"F"},{name:"M",val:"M"},{name:"N",val:"N"},{name:"P",val:"P"}],auditList:[{name:"全部",val:""},{name:"待审核",val:"INHAND"},{name:"驳回",val:"REJECT"},{name:"通过",val:"PASSED"},{name:"重新提交",val:"REINHAND"}],dataIdType:{IDCARD:"居民身份证",OFFICER:"军官证",SOLDIER:"士兵证",RETIRED:"军官离退休证",OUTSIDE:"境外人员身份证",DIPLOMATIC:"外交人员身份证明"},dataAuditStatus:{INHAND:"待审核",REJECT:"驳回",PASSED:"通过",REINHAND:"重新提交"}},mutations:{},actions:{}}},GYl7:function(e,t){},KQ79:function(e,t){},LHFO:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),s=a("NYxO"),l=a("2mV7");i.default.use(s.a);var n=new s.a.Store({modules:l.default,strict:!1}),o={name:"app",$store:n},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("aFoy")},null,null).exports,c=a("/ocq"),u=a("//Fk"),m=a.n(u);function h(e,t){sessionStorage.setItem(e,t)}function p(e){return sessionStorage.getItem(e)}var v=a("Zrlr"),g=a.n(v),b=a("wxAW"),f=a.n(b),_=a("mtWM"),D=a.n(_),y=a("DEN3"),C=a.n(y),w=new(function(){function e(){g()(this,e)}return f()(e,[{key:"login",value:function(e){return D()({url:C.a.service.host+"/user/login",method:"post",params:e})}},{key:"loginInfo",value:function(){return D()({url:C.a.service.host+"/bguser/info",method:"post",headers:{authKey:p("authKey")}})}}]),e}()),P={data:function(){return{loginData:{username:"superadmin",password:"superpassword"},passwordStatus:!1}},methods:{login:function(){var e=this;this.loginData.username&&this.loginData.password?w.login(this.loginData).then(function(t){h("authKey",t.data.data.authKey),e.$router.push("/bm")}).catch(function(t){e.$message({showClose:!0,message:t,type:"warning"})}):this.$message({showClose:!0,message:"请输入账号密码",type:"warning"})},passwordFouce:function(){this.passwordStatus=!0},passwordBlur:function(){this.passwordStatus=!1}},mounted:function(){}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"login"},[a("div",{staticClass:"login-title"},[e._v("满分审验教育后台管理系统")]),e._v(" "),a("div",{staticClass:"loginform"},[a("div",{class:{password:e.passwordStatus},attrs:{id:"owl-login"}}),e._v(" "),a("div",{staticClass:"pad"},[a("div",{staticClass:"control-group"},[a("div",{staticClass:"controls"},[a("el-input",{attrs:{placeholder:"请输入账号",id:"username",autofocus:""},model:{value:e.loginData.username,callback:function(t){e.$set(e.loginData,"username",t)},expression:"loginData.username"}})],1)]),e._v(" "),a("div",{staticClass:"control-group"},[a("div",{staticClass:"controls"},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码",id:"password"},on:{focus:function(t){e.passwordFouce()},blur:function(t){e.passwordBlur()}},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}})],1)]),e._v(" "),e._m(0)]),e._v(" "),a("div",{staticClass:"form-actions"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.login()}}},[e._v("登录")])],1)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"control-group"},[t("div",{staticClass:"controls"},[t("div",{staticClass:"message"},[this._v("账号或密码错误")])])])}]};var V=a("VU/8")(P,k,!1,function(e){a("LHFO")},null,null).exports,z={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:" page"},[this._v("\n    欢迎使用后台管理系统\n")])},staticRenderFns:[]};var x=a("VU/8")(null,z,!1,function(e){a("CcpV")},null,null).exports,T={name:"",data:function(){return{realname:""}},mounted:function(){this.getUserInfo()},methods:{getUserInfo:function(){var e=this;w.loginInfo().then(function(t){e.realname=t.data.data.username})},logout:function(){var e;e="authKey",sessionStorage.removeItem(e),this.$router.push("/login")}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"head"},[a("div",{staticClass:"head-left"},[e._v("\n    满分审验教育后台管理系统\n  ")]),e._v(" "),a("div",{staticClass:"head-right"},[a("span",[e._v(e._s(e.realname))]),e._v(" "),a("span",{on:{click:function(t){e.logout()}}},[e._v("退出")])])])},staticRenderFns:[]};var S=a("VU/8")(T,$,!1,function(e){a("UPfN")},null,null).exports,I=new(function(){function e(){g()(this,e)}return f()(e,[{key:"basePostData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new m.a(function(a,i){D()({url:""+C.a.service.host+e,method:"post",headers:{authKey:p("authKey")},data:t}).then(function(e){"0x5002"===e.data.status?location.hash="/login":a(e)}).catch(function(e){i(e)})})}},{key:"baseGetData",value:function(e,t){return new m.a(function(a,i){var s="";s=t?""+C.a.service.host+e+"?id="+t:""+C.a.service.host+e,D()({url:s,method:"get",headers:{authKey:p("authKey")}}).then(function(e){"0x5002"===e.data.status?location.hash="/login":a(e)}).catch(function(e){i(e)})})}}]),e}()),A={name:"Aside",data:function(){return{asideList:[],path:"/bguser/menu"}},mounted:function(){this.getUserMenu()},methods:{getUserMenu:function(){var e=this;I.basePostData(this.path).then(function(t){e.asideList=t.data.data})}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-aside",{attrs:{width:"250px"}},[a("el-menu",{attrs:{"default-active":"1",router:!0,"unique-opened":!0,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},e._l(e.asideList,function(t){return a("el-submenu",{key:t.id,attrs:{index:t.name}},[a("template",{slot:"title"},[a("span",[e._v(e._s(t.name))])]),e._v(" "),a("el-menu-item-group",e._l(t.children,function(t,i){return a("el-menu-item",{key:i,attrs:{index:t.action+"?pageId="+t.id}},[e._v(e._s(t.name))])}))],2)}))],1)},staticRenderFns:[]};var j={name:"App",components:{Head:S,Aside:a("VU/8")(A,R,!1,function(e){a("KQ79")},null,null).exports},mounted:function(){p("authKey")||this.$router.push("/login")},methods:{getBtnList:function(e){this.$store.dispatch("getBtnList",{pageId:e})}},watch:{$route:function(){this.$route.query.pageId}}},M={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrapper"},[t("Head",{staticClass:"head"}),this._v(" "),t("div",{staticClass:"inner"},[t("div",{staticClass:"main"},[t("Aside"),this._v(" "),t("div",{staticClass:"content"},[t("router-view")],1)],1)])],1)},staticRenderFns:[]};var E=a("VU/8")(j,M,!1,function(e){a("YrwP")},null,null).exports,N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user-search"},[a("el-input",{attrs:{size:"small"},model:{value:e.userSearch,callback:function(t){e.userSearch=t},expression:"userSearch"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.resetSearch()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search",disabled:e.userSearch.length<=0},on:{click:function(t){e.StartSearch()}}},[e._v("搜索")])],1)},staticRenderFns:[]};var F=a("VU/8")({name:"userSearch",data:function(){return{userSearch:""}},computed:{searchId:function(){return this.$store.state.user.searchId}},methods:{StartSearch:function(){this.$store.dispatch("updateSearchId",this.userSearch),this.$emit("search")},resetSearch:function(){this.searchId&&(this.$store.dispatch("updateSearchId",""),this.$emit("search"))}}},N,!1,function(e){a("8S+a")},null,null).exports,L=a("PJh5"),U=a.n(L),q={name:"Admin",data:function(){return{addAdminDialogVisible:!1,addAdminData:{username:"",password:"",realname:"",email:"",telephone:"",isEnable:!1},editAdminDialogVisible:!1,editAdminData:{id:"",password:"",realname:"",email:"",telephone:"",isEnable:!1},delAdminDialogVisible:!1,delAdminId:0,adminData:[],pageNum:1,pageSize:20,totalSize:0,currentAdminId:"",editAdminPermissionDialogVisible:!1,permissionData:[],adminPermissionData:[],editAdminRoleDialogVisible:!1,roleData:[],adminRoleData:[],editAdminMenuDialogVisible:!1,menuList:[],defaultProps:{children:"children",label:"name"},adminMenuData:[],adminPath:{getPath:"/bguser/page",addPath:"/bguser/add",delPath:"/bguser/delete",editPath:"/bguser/update",searchPermissionPath:"/bguser/privilege/authorities",addPermissionPath:"/bguser/config/privilege/authorities",searchRolePath:"/bguser/roles",addRolePath:"/bguser/config/roles",searchMenuPath:"/bguser/privilege/menu",addMenuPath:"/bguser/config/privilege/menu"},permissionPath:{getPath:"/authority/page"},rolePath:{getPath:"/role/page"},menuPath:{getPath:"/menu/all"}}},computed:{searchId:function(){return this.$store.state.user.searchId}},components:{Search:F},mounted:function(){this.getAdminData()},methods:{moment:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")},getAdminData:function(){var e=this;I.basePostData(this.adminPath.getPath,{pageNum:this.pageNum,pageSize:this.pageSize,name:this.searchId}).then(function(t){var a=t.data;e.adminData=a.data.list,e.totalSize=a.data.total,"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"})})},addAdmin:function(){this.addAdminData={username:"",password:"",realname:"",email:"",telephone:"",isEnable:!1},this.addAdminDialogVisible=!0},submitAddAdmin:function(e){var t=this;this.addAdminDialogVisible=!1,I.basePostData(this.adminPath.addPath,this.addAdminData).then(function(e){var a=e.data;"0x0000"!==a.status&&t.$message({message:a.message,type:"warning"}),t.getAdminData()})},delAdminItem:function(e){this.delAdminId=e.id,this.delAdminDialogVisible=!0},submitDelAdmin:function(){var e=this;this.delAdminDialogVisible=!1,I.baseGetData(this.adminPath.delPath,this.delAdminId).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getAdminData()})},editAdminItem:function(e){this.editAdminData.id=e.id,this.editAdminData.password=e.password,this.editAdminData.realname=e.realname,this.editAdminData.email=e.email,this.editAdminData.telephone=e.telephone,this.editAdminData.isEnable=e.isEnable,this.editAdminDialogVisible=!0},submitEditAdmin:function(){var e=this;I.basePostData(this.adminPath.editPath,this.editAdminData).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getAdminData()}),this.editAdminDialogVisible=!1},addAdminPermission:function(e){var t=this;this.currentAdminId=e.id,this.editAdminPermissionDialogVisible=!0,I.basePostData(this.permissionPath.getPath,{}).then(function(e){t.permissionData=e.data.data.list}),I.basePostData(this.adminPath.searchPermissionPath,{userId:this.currentAdminId}).then(function(e){t.adminPermissionData=e.data.data})},submitEditAdminPermission:function(){var e=this;this.editAdminPermissionDialogVisible=!1,I.basePostData(this.adminPath.addPermissionPath,{userId:this.currentAdminId,authorityIds:this.adminPermissionData}).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getAdminData()})},addAdminRole:function(e){var t=this;this.currentAdminId=e.id,this.editAdminRoleDialogVisible=!0,I.basePostData(this.rolePath.getPath,{}).then(function(e){t.roleData=e.data.data.list}),I.basePostData(this.adminPath.searchRolePath,{userId:this.currentAdminId}).then(function(e){t.adminRoleData=e.data.data})},submitEditAdminRole:function(){var e=this;this.editAdminRoleDialogVisible=!1,I.basePostData(this.adminPath.addRolePath,{userId:this.currentAdminId,roleIds:this.adminRoleData}).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getAdminData()})},addAdminMenu:function(e){var t=this;this.currentAdminId=e.id,this.editAdminMenuDialogVisible=!0,I.basePostData(this.menuPath.getPath,{}).then(function(e){t.menuList=e.data.data}),I.basePostData(this.adminPath.searchMenuPath,{userId:this.currentAdminId}).then(function(e){t.adminMenuData=e.data.data})},submitEditAdminMenu:function(){var e=this;this.editAdminMenuDialogVisible=!1,I.basePostData(this.adminPath.addMenuPath,{userId:this.currentAdminId,menuIds:this.$refs.tree.getCheckedKeys()}).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getAdminData()})},handleClose:function(){this.addAdminDialogVisible=!1,this.delAdminDialogVisible=!1,this.editAdminDialogVisible=!1,this.editAdminPermissionDialogVisible=!1,this.editAdminRoleDialogVisible=!1,this.editAdminMenuDialogVisible=!1},handleSizeChange:function(e){this.pageSize=e,this.getAdminData()},handleCurrentChange:function(e){this.pageNum=e,this.getAdminData()}}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("管理员列表")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("div",[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.addAdmin()}}},[e._v("新增")]),e._v(" "),a("Search",{on:{search:function(t){e.getAdminData()}}})],1),e._v(" "),a("div",{staticClass:"row"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.adminData,border:""}},[a("el-table-column",{attrs:{label:"ID",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名",prop:"username"}}),e._v(" "),a("el-table-column",{attrs:{label:"真实姓名",prop:"realname"}}),e._v(" "),a("el-table-column",{attrs:{label:"邮箱",prop:"email"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime",width:"96"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.moment(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",prop:"updateTime",width:"96"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.updateTime?a("div",[e._v(e._s(e.moment(t.row.updateTime)))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.editAdminItem(t.row)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{type:"primary ",size:"mini "},on:{click:function(a){e.addAdminPermission(t.row)}}},[e._v("权限\n            ")]),e._v(" "),a("el-button",{attrs:{type:"primary ",size:"mini "},on:{click:function(a){e.addAdminMenu(t.row)}}},[e._v("菜单\n            ")]),e._v(" "),a("el-button",{attrs:{type:"primary ",size:"mini "},on:{click:function(a){e.addAdminRole(t.row)}}},[e._v("角色\n            ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.delAdminItem(t.row)}}},[e._v("删除\n            ")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"row"},[a("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),a("el-dialog",{attrs:{title:"新增管理员",visible:e.addAdminDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.addAdminDialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"120px",model:e.addAdminData}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{model:{value:e.addAdminData.username,callback:function(t){e.$set(e.addAdminData,"username",t)},expression:"addAdminData.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{model:{value:e.addAdminData.password,callback:function(t){e.$set(e.addAdminData,"password",t)},expression:"addAdminData.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名",prop:"realname"}},[a("el-input",{model:{value:e.addAdminData.realname,callback:function(t){e.$set(e.addAdminData,"realname",t)},expression:"addAdminData.realname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.addAdminData.email,callback:function(t){e.$set(e.addAdminData,"email",t)},expression:"addAdminData.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"telephone"}},[a("el-input",{model:{value:e.addAdminData.telephone,callback:function(t){e.$set(e.addAdminData,"telephone",t)},expression:"addAdminData.telephone"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addAdminDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitAddAdmin("addAdminData")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"删除管理员",visible:e.delAdminDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.delAdminDialogVisible=t}}},[a("span",[e._v("你确定要删除该管理员")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.delAdminDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.submitDelAdmin()}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"编辑管理员",visible:e.editAdminDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editAdminDialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"120px",model:e.editAdminData}},[a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{model:{value:e.editAdminData.password,callback:function(t){e.$set(e.editAdminData,"password",t)},expression:"editAdminData.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名",prop:"realname"}},[a("el-input",{model:{value:e.editAdminData.realname,callback:function(t){e.$set(e.editAdminData,"realname",t)},expression:"editAdminData.realname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.editAdminData.email,callback:function(t){e.$set(e.editAdminData,"email",t)},expression:"editAdminData.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"telephone"}},[a("el-input",{model:{value:e.editAdminData.telephone,callback:function(t){e.$set(e.editAdminData,"telephone",t)},expression:"editAdminData.telephone"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editAdminDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitEditAdmin("editAdminData")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{ref:"multipleTable",attrs:{title:"添加权限",visible:e.editAdminPermissionDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editAdminPermissionDialogVisible=t}}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.adminPermissionData,callback:function(t){e.adminPermissionData=t},expression:"adminPermissionData"}},e._l(e.permissionData,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editAdminPermissionDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitEditAdminPermission()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{ref:"multipleTable",attrs:{title:"添加角色",visible:e.editAdminRoleDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editAdminRoleDialogVisible=t}}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.adminRoleData,callback:function(t){e.adminRoleData=t},expression:"adminRoleData"}},e._l(e.roleData,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editAdminRoleDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitEditAdminRole()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{ref:"multipleTable",attrs:{title:"添加菜单",visible:e.editAdminMenuDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editAdminMenuDialogVisible=t}}},[a("el-tree",{ref:"tree",attrs:{"node-key":"id","default-expand-all":"","expand-on-click-node":!1,data:e.menuList,props:e.defaultProps,"show-checkbox":"","default-checked-keys":e.adminMenuData}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editAdminMenuDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitEditAdminMenu()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var B=a("VU/8")(q,H,!1,function(e){a("1grr")},null,null).exports,Y={name:"Role",data:function(){return{addRoleDialogVisible:!1,addRoleData:{code:"",name:""},editRoleDialogVisible:!1,editRoleData:{id:"",code:"",name:""},delRoleDialogVisible:!1,delRoleId:"",currentPage:1,pageSize:20,totalSize:0,roleData:[],tabMaxHeight:0,currentRoleId:"",editRolePermissionDialogVisible:!1,permissionData:[],rolePermissionData:[],editRoleMenuDialogVisible:!1,menuList:[],defaultProps:{children:"children",label:"name"},roleMenuData:[],rolePath:{getPath:"/role/page",addPath:"/role/add",delPath:"/role/delete",editPath:"/role/update",searchPermisssionPath:"/role/authorities",addPermisssionPath:"/role/config/authorities",searchMenuPath:"/role/menu",addMenuPath:"/role/config/menu"},permissionPath:{getPath:"/authority/page"},menuPath:{getPath:"/menu/all"}}},computed:{searchId:function(){return this.$store.state.user.searchId}},components:{Search:F},mounted:function(){this.getRoleData()},methods:{moment:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")},getRoleData:function(){var e=this;I.basePostData(this.rolePath.getPath,{pageNum:this.currentPage,pageSize:this.pageSize,name:this.searchId}).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.roleData=a.data.list,e.totalSize=a.data.total;var i=document.body.clientHeight;e.tabMaxHeight=i-60-30-30-50-50})},addRole:function(){this.addRoleData={code:"",name:""},this.addRoleDialogVisible=!0},submitAddRole:function(){var e=this;this.addRoleDialogVisible=!1,I.basePostData(this.rolePath.addPath,this.addRoleData).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getRoleData()})},delRoleItem:function(e){this.delRoleDialogVisible=!0,this.delRoleId=e.id},submitDelRole:function(){var e=this;this.delRoleDialogVisible=!1,I.baseGetData(this.rolePath.delPath,this.delRoleId).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getRoleData()})},editRoleItem:function(e){this.editRoleData.id=e.id,this.editRoleData.code=e.code,this.editRoleData.name=e.name,this.editRoleDialogVisible=!0},submitEditRole:function(){var e=this;this.editRoleDialogVisible=!1,I.basePostData(this.rolePath.editPath,this.editRoleData).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getRoleData()})},addRolePermission:function(e){var t=this;this.currentRoleId=e.id,this.editRolePermissionDialogVisible=!0,I.basePostData(this.permissionPath.getPath,{}).then(function(e){t.permissionData=e.data.data.list}),I.basePostData(this.rolePath.searchPermisssionPath,{roleId:this.currentRoleId}).then(function(e){t.rolePermissionData=e.data.data})},submitEditRolePermission:function(){var e=this;this.editRolePermissionDialogVisible=!1,I.basePostData(this.rolePath.addPermisssionPath,{roleId:this.currentRoleId,authorityIds:this.rolePermissionData}).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getRoleData()})},addRoleMenu:function(e){var t=this;this.currentRoleId=e.id,this.editRoleMenuDialogVisible=!0,I.basePostData(this.menuPath.getPath,{}).then(function(e){t.menuList=e.data.data}),I.basePostData(this.rolePath.searchMenuPath,{roleId:this.currentRoleId}).then(function(e){t.roleMenuData=e.data.data})},submitEditRoleMenu:function(){var e=this;this.editRoleMenuDialogVisible=!1,I.basePostData(this.rolePath.addMenuPath,{roleId:this.currentRoleId,menuIds:this.$refs.tree.getCheckedKeys()}).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getRoleData()})},handleClose:function(){this.addRoleDialogVisible=!1,this.delRoleDialogVisible=!1,this.editRoleDialogVisible=!1,this.editRolePermissionDialogVisible=!1,this.editRoleMenuDialogVisible=!1},handleSizeChange:function(e){this.pageSize=e,this.getRoleData()},handleCurrentChange:function(e){this.currentPage=e,this.getRoleData()}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("角色列表")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("div",[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.addRole()}}},[e._v("新增")]),e._v(" "),a("Search",{on:{search:function(t){e.getRoleData()}}})],1),e._v(" "),a("div",{staticClass:"row"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.roleData,border:""}},[a("el-table-column",{attrs:{label:"ID",prop:"id",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间 ",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.moment(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最近修改时间 ",prop:"updateTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.updateTime?a("div",[e._v(e._s(e.moment(t.row.updateTime)))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作 ",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary ",size:"mini "},on:{click:function(a){e.editRoleItem(t.row)}}},[a("i",{staticClass:"el-icon-edit "})]),e._v(" "),a("el-button",{attrs:{type:"primary ",size:"mini "},on:{click:function(a){e.addRolePermission(t.row)}}},[e._v("权限\n            ")]),e._v(" "),a("el-button",{attrs:{type:"primary ",size:"mini "},on:{click:function(a){e.addRoleMenu(t.row)}}},[e._v("菜单\n            ")]),e._v(" "),a("el-button",{attrs:{type:"danger ",size:"mini "},on:{click:function(a){e.delRoleItem(t.row)}}},[a("i",{staticClass:"el-icon-delete "})])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"row"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper ",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),a("el-dialog",{attrs:{title:"新增角色",visible:e.addRoleDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.addRoleDialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"120px",model:e.addRoleData}},[a("el-form-item",{attrs:{label:"角色标识",prop:"code"}},[a("el-input",{model:{value:e.addRoleData.code,callback:function(t){e.$set(e.addRoleData,"code",t)},expression:"addRoleData.code "}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{model:{value:e.addRoleData.name,callback:function(t){e.$set(e.addRoleData,"name",t)},expression:"addRoleData.name"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addRoleDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitAddRole("addRoleData")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"删除角色 ",visible:e.delRoleDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.delRoleDialogVisible=t}}},[a("span",[e._v("你确定要删除该角色")]),e._v(" "),a("span",{staticClass:"dialog-footer ",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.delRoleDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.submitDelRole()}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"编辑角色",visible:e.editRoleDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editRoleDialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"120px ",model:e.editRoleData}},[a("el-form-item",{attrs:{label:"标识",prop:"code"}},[a("el-input",{model:{value:e.editRoleData.code,callback:function(t){e.$set(e.editRoleData,"code",t)},expression:"editRoleData.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.editRoleData.name,callback:function(t){e.$set(e.editRoleData,"name",t)},expression:"editRoleData.name"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editRoleDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitEditRole("editRoleData")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{ref:"multipleTable",staticClass:"edit-role-permission",attrs:{title:"添加权限",visible:e.editRolePermissionDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editRolePermissionDialogVisible=t}}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.rolePermissionData,callback:function(t){e.rolePermissionData=t},expression:"rolePermissionData"}},e._l(e.permissionData,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editRolePermissionDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitEditRolePermission()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{ref:"multipleTable",staticClass:"edit-role-permission",attrs:{title:"添加菜单",visible:e.editRoleMenuDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editRoleMenuDialogVisible=t}}},[a("el-tree",{ref:"tree",attrs:{"node-key":"id","default-expand-all":"","expand-on-click-node":!1,data:e.menuList,props:e.defaultProps,"show-checkbox":"","default-checked-keys":e.roleMenuData}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editRoleMenuDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small "},on:{click:function(t){e.submitEditRoleMenu()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},K=a("VU/8")(Y,O,!1,null,null,null).exports,G={name:"permission",data:function(){return{addPermissionDialogVisible:!1,addPermissionData:{name:"",action:"",menuId:"",idOnPage:""},delPermissionDialogVisible:!1,delPermissionId:0,editPermissionDialogVisible:!1,editPermissionData:{id:"",name:"",action:""},currentPage:1,pageSize:20,totalSize:0,permissionData:[],allLeafData:[],tabMaxHeight:0,permissionPath:{getPath:"/authority/page",addPath:"/authority/add",editPath:"/authority/update",delPath:"/authority/delete"},menuPath:{allLeafPath:"/menu/all-leaf"}}},computed:{searchId:function(){return this.$store.state.user.searchId}},components:{Search:F},mounted:function(){this.getPermissionData()},methods:{moment:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")},getPermissionData:function(){var e=this;I.basePostData(this.permissionPath.getPath,{pageNum:this.currentPage,pageSize:this.pageSize,name:this.searchId}).then(function(t){var a=t.data;e.permissionData=a.data.list,e.totalSize=a.data.total;var i=document.body.clientHeight;e.tabMaxHeight=i-60-30-30-50-50,"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"})})},addPermission:function(){var e=this;this.addPermissionData={name:"",action:"",menuId:"",idOnPage:""},this.addPermissionDialogVisible=!0,I.basePostData(this.menuPath.allLeafPath).then(function(t){var a=t.data.data;e.allLeafData=a}).catch(function(e){throw e})},submitAddPermission:function(e){var t=this;this.addPermissionDialogVisible=!1,I.basePostData(this.permissionPath.addPath,this.addPermissionData).then(function(e){var a=e.data;"0x0000"!==a.status&&t.$message({message:a.message,type:"warning"}),t.getPermissionData()})},delPermissionItem:function(e){this.delPermissionId=e.id,this.delPermissionDialogVisible=!0},submitDelPermission:function(){var e=this;this.delPermissionDialogVisible=!1,I.baseGetData(this.permissionPath.delPath,this.delPermissionId).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getPermissionData()})},editPermissionItem:function(e){var t=this;this.editPermissionData.id=e.id,this.editPermissionData.name=e.name,this.editPermissionData.action=e.action,this.editPermissionDialogVisible=!0,I.basePostData(this.menuPath.allLeafPath).then(function(e){var a=e.data.data;t.allLeafData=a}).catch(function(e){throw e})},submitEditPermission:function(){var e=this;this.editPermissionDialogVisible=!1,I.basePostData(this.permissionPath.editPath,this.editPermissionData).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getPermissionData()})},handleClose:function(){this.addPermissionDialogVisible=!1,this.delPermissionDialogVisible=!1,this.editPermissionDialogVisible=!1},handleSizeChange:function(e){this.pageSize=e,this.getPermissionData()},handleCurrentChange:function(e){this.currentPage=e,this.getPermissionData()}}},X={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("权限列表")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("div",[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.addPermission()}}},[e._v("新增")]),e._v(" "),a("Search",{on:{search:function(t){e.getPermissionData()}}})],1),e._v(" "),a("div",{staticClass:"row"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.permissionData,border:""}},[a("el-table-column",{attrs:{label:"ID",prop:"id",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.moment(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",prop:"updateTime"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.updateTime?a("div",[e._v(e._s(e.moment(t.row.updateTime)))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.editPermissionItem(t.row)}}},[e._v("\n              编辑\n            ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.delPermissionItem(t.row)}}},[e._v("\n              删除\n            ")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"row"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),a("el-dialog",{attrs:{title:"新增权限",visible:e.addPermissionDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.addPermissionDialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.addPermissionData}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.addPermissionData.name,callback:function(t){e.$set(e.addPermissionData,"name",t)},expression:"addPermissionData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"action"}},[a("el-input",{model:{value:e.addPermissionData.action,callback:function(t){e.$set(e.addPermissionData,"action",t)},expression:"addPermissionData.action"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属页面",prop:"menuId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addPermissionData.menuId,callback:function(t){e.$set(e.addPermissionData,"menuId",t)},expression:"addPermissionData.menuId"}},e._l(e.allLeafData,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属按钮",prop:"idOnPage"}},[a("el-input",{model:{value:e.addPermissionData.idOnPage,callback:function(t){e.$set(e.addPermissionData,"idOnPage",t)},expression:"addPermissionData.idOnPage"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addPermissionDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitAddPermission()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"删除权限",visible:e.delPermissionDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.delPermissionDialogVisible=t}}},[a("span",[e._v("你确定要删除该权限")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.delPermissionDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.submitDelPermission()}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"编辑权限",visible:e.editPermissionDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editPermissionDialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.editPermissionData}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.editPermissionData.name,callback:function(t){e.$set(e.editPermissionData,"name",t)},expression:"editPermissionData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"action"}},[a("el-input",{model:{value:e.editPermissionData.action,callback:function(t){e.$set(e.editPermissionData,"action",t)},expression:"editPermissionData.action"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editPermissionDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitEditPermission()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},W=a("VU/8")(G,X,!1,null,null,null).exports,J={name:"menu-list",data:function(){return{defaultProps:{children:"children",label:"name"},addMenuDialogVisible:!1,addMenu:{name:"",action:"",sortedOrder:"",parentId:""},editMenuDialogVisible:!1,editMenu:{name:"",action:"",sortedOrder:"",id:""},delMenuDialogVisible:!1,delMenuId:"",menuList:[],parentId:0,menuPath:{getPath:"/menu/all",addPath:"/menu/add",editPath:"/menu/update",delPath:"/menu/delete"}}},mounted:function(){this.getMenu()},methods:{getMenu:function(){var e=this;I.basePostData(this.menuPath.getPath,{}).then(function(t){e.menuList=t.data.data;var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"})})},addMenuItem:function(e){this.addMenu={name:"",action:"",sortedOrder:"",parentId:""},this.addMenu.parentId=e.data.id,this.addMenuDialogVisible=!0},submitAddmenu:function(){var e=this;this.addMenuDialogVisible=!1,I.basePostData(this.menuPath.addPath,this.addMenu).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getMenu()})},editMenuItem:function(e){this.editMenu.name=e.data.name,this.editMenu.action=e.data.action,this.editMenu.sortedOrder=e.data.sortedOrder,this.editMenu.id=e.data.id,this.editMenuDialogVisible=!0},submitEditmenu:function(){var e=this;this.editMenuDialogVisible=!1,I.basePostData(this.menuPath.editPath,this.editMenu).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getMenu()})},delMenuItem:function(e){this.delMenuId=e.data.id,this.delMenuDialogVisible=!0},submitDelmenu:function(){var e=this;this.delMenuDialogVisible=!1;I.baseGetData(this.menuPath.delPath,this.delMenuId).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getMenu()})},handleClose:function(){this.addMenuDialogVisible=!1,this.editMenuDialogVisible=!1,this.delMenuDialogVisible=!1},renderContent:function(e,t){var a=this,i=t.node;t.data,t.store;return e("span",{class:"custom-tree-node"},[e("span",[i.label]),e("span",[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return a.addMenuItem(i)}}},["添加"]),e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return a.editMenuItem(i)}}},["编辑"]),e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return a.delMenuItem(i)}}},["删除"])])])}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("菜单列表")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("el-tree",{attrs:{"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"render-content":e.renderContent,data:e.menuList,props:e.defaultProps}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加菜单",visible:e.addMenuDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.addMenuDialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.addMenu}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.addMenu.name,callback:function(t){e.$set(e.addMenu,"name",t)},expression:"addMenu.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"action"}},[a("el-input",{model:{value:e.addMenu.action,callback:function(t){e.$set(e.addMenu,"action",t)},expression:"addMenu.action"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"sortedOrder"}},[a("el-input",{model:{value:e.addMenu.sortedOrder,callback:function(t){e.$set(e.addMenu,"sortedOrder",t)},expression:"addMenu.sortedOrder"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addMenuDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitAddmenu()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑菜单",visible:e.editMenuDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editMenuDialogVisible=t}}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px",model:e.editMenu}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.editMenu.name,callback:function(t){e.$set(e.editMenu,"name",t)},expression:"editMenu.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"action"}},[a("el-input",{model:{value:e.editMenu.action,callback:function(t){e.$set(e.editMenu,"action",t)},expression:"editMenu.action"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"sortedOrder"}},[a("el-input",{model:{value:e.editMenu.sortedOrder,callback:function(t){e.$set(e.editMenu,"sortedOrder",t)},expression:"editMenu.sortedOrder"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editMenuDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitEditmenu()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"删除菜单",visible:e.delMenuDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.delMenuDialogVisible=t}}},[a("span",[e._v("确认要删除该菜单？\n    ")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.delMenuDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.submitDelmenu()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var Z=a("VU/8")(J,Q,!1,function(e){a("gRit")},null,null).exports,ee={data:function(){return{loginData:{username:"superadmin",password:"superpassword"},passwordStatus:!1}},methods:{login:function(){var e=this;this.loginData.username&&this.loginData.password?w.login(this.loginData).then(function(t){h("authKey",t.data.data.authKey),e.$router.push("/bm")}).catch(function(t){e.$message({showClose:!0,message:t,type:"warning"})}):this.$message({showClose:!0,message:"请输入账号密码",type:"warning"})},passwordFouce:function(){this.passwordStatus=!0},passwordBlur:function(){this.passwordStatus=!1}},mounted:function(){}},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"login"},[a("div",{staticClass:"loginform"},[a("div",{class:{password:e.passwordStatus},attrs:{id:"owl-login"}},[a("div",{staticClass:"hand"}),e._v(" "),a("div",{staticClass:"hand hand-r"}),e._v(" "),e._m(0)]),e._v(" "),a("div",{staticClass:"pad"},[a("div",{staticClass:"control-group"},[a("div",{staticClass:"controls"},[a("el-input",{attrs:{placeholder:"请输入账号",id:"username",autofocus:""},model:{value:e.loginData.username,callback:function(t){e.$set(e.loginData,"username",t)},expression:"loginData.username"}})],1)]),e._v(" "),a("div",{staticClass:"control-group"},[a("div",{staticClass:"controls"},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码",id:"password"},on:{focus:function(t){e.passwordFouce()},blur:function(t){e.passwordBlur()}},model:{value:e.loginData.password,callback:function(t){e.$set(e.loginData,"password",t)},expression:"loginData.password"}})],1)]),e._v(" "),e._m(1)]),e._v(" "),a("div",{staticClass:"form-actions"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.login()}}},[e._v("登录")])],1)])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"arms"},[t("div",{staticClass:"arm"}),this._v(" "),t("div",{staticClass:"arm arm-r"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"control-group"},[t("div",{staticClass:"controls"},[t("div",{staticClass:"message"},[this._v("账号或密码错误")])])])}]};var ae=a("VU/8")(ee,te,!1,function(e){a("C+gf")},null,null).exports,ie={name:"video-list",data:function(){return{headers:{authKey:p("authKey")},upload:{pic:C.a.service.host+"/file/image/upload",video:C.a.service.host+"/file/video/upload"},imgUrl:"",videoUrl:"",videoUrledit:"",videoDate:[],tabMaxHeight:0,addVideoDialogVisible:!1,addVideoData:{categoryId:"",name:"",introduction:"",videoToken:"",thumbToken:"",duration:0},addRules:{categoryId:[{required:!0,message:"请选择视频分类",trigger:"change"}],name:[{required:!0,message:"请输入视频名称",trigger:"blur"}],introduction:[{required:!0,message:"请输入视频简介",trigger:"blur"}],videoToken:[{required:!0,message:"请上传视频",trigger:"blur"}],thumbToken:[{required:!0,message:"请上传图片",trigger:"blur"}],duration:[{required:!0,message:"请输入视频时长",trigger:"change"}]},editVideoDialogVisible:!1,editVideoData:{id:"",categoryId:"",name:"",introduction:"",videoToken:"",thumbToken:"",duration:0},duration:{hour:0,minute:0,second:0},delVideoDialogVisible:!1,delVideoId:"",categoryData:[],videoPath:{getPath:"/video/page",addPath:"/video/add",editPath:"/video/update",delPath:"/video/delete"},categoryPath:{getPath:"/category/video"},currentPage:1,pageSize:20,totalSize:0,uploading:!1}},mounted:function(){this.getVideoDate()},methods:{timer:function(e){return(Math.floor(e/3600%24)<10?"0"+Math.floor(e/3600%24):Math.floor(e/3600%24))+":"+(Math.floor(e/60%60)<10?"0"+Math.floor(e/60%60):Math.floor(e/60%60))+":"+(Math.floor(e%60)<10?"0"+Math.floor(e%60):Math.floor(e%60))},moment:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")},getVideoDate:function(){var e=this;I.basePostData(this.videoPath.getPath,{pageNum:this.currentPage,pageSize:this.pageSize}).then(function(t){var a=t.data;e.videoDate=a.data.list,e.totalSize=a.data.total;var i=document.body.clientHeight;e.tabMaxHeight=i-60-30-30-50-50,"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"})})},addVideo:function(){var e=this;this.imgUrl="",this.videoUrl="",this.addVideoData={categoryId:"",name:"",introduction:"",videoToken:"",thumbToken:"",duration:0},this.duration={hour:0,minute:0,second:0},I.basePostData(this.categoryPath.getPath).then(function(t){var a=t.data.data;e.categoryData=a}),this.addVideoDialogVisible=!0},submitAddVideo:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;I.basePostData(t.videoPath.addPath,t.addVideoData).then(function(e){var a=e.data;"0x0000"!==a.status?t.$message({message:a.message,type:"warning"}):(t.$message({message:"添加成功",type:"success"}),t.addVideoDialogVisible=!1),t.getVideoDate()})})},delVideoItem:function(e){this.delVideoId=e.id,this.delVideoDialogVisible=!0},submitDelVideo:function(){var e=this;this.delVideoDialogVisible=!1,I.baseGetData(this.videoPath.delPath,this.delVideoId).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getVideoDate()})},editVideoItem:function(e){var t=this;this.uploading=!1,this.imgUrl="",this.videoUrledit="",I.basePostData(this.categoryPath.getPath).then(function(e){var a=e.data.data;t.categoryData=a}),this.editVideoData.id=e.id,this.editVideoData.categoryId=e.categoryId,this.editVideoData.name=e.name,this.editVideoData.introduction=e.introduction,this.editVideoData.duration=e.duration,this.imgUrl=e.thumbUrl,this.videoUrledit=e.url,this.editVideoDialogVisible=!0},submitEditVideo:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;I.basePostData(t.videoPath.editPath,t.editVideoData).then(function(e){var a=e.data;"0x0000"!==a.status?t.$message({message:a.message,type:"warning"}):(t.editVideoDialogVisible=!1,t.$message({message:"编辑成功",type:"success"})),t.getVideoDate()})})},detailVideoItem:function(e){this.$router.push("/video/detail?id="+e.id)},handleClose:function(){this.addVideoDialogVisible=!1,this.editVideoDialogVisible=!1,this.delVideoDialogVisible=!1},handleSizeChange:function(e){this.pageSize=e,this.getVideoDate()},handleCurrentChange:function(e){this.currentPage=e,this.getVideoDate()},handleSuccessVideo:function(e){this.$message({message:"上传成功",type:"success"}),this.uploading=!1,this.addVideoData.videoToken=e.data.token,this.videoUrl=e.data.url;var t=this;setTimeout(function(){var e=document.getElementById("addVideoTime");e.oncanplay=function(){t.addVideoData.duration=parseInt(e.duration)}},100)},handleSuccessPic:function(e){this.addVideoData.thumbToken=e.data.token,this.imgUrl=e.data.url},handleSuccessVideoEdit:function(e){this.$message({message:"上传成功",type:"success"}),this.uploading=!1,this.editVideoData.videoToken=e.data.token,this.videoUrledit=e.data.url;var t=this;setTimeout(function(){var e=document.getElementById("editVideoTime");e.oncanplay=function(){t.editVideoData.duration=parseInt(e.duration),console.log(e.duration)}},100)},handleSuccessPicEdit:function(e){this.editVideoData.thumbToken=e.data.token,this.imgUrl=e.data.url},handleErrVideo:function(e,t,a){this.uploading=!1,console.log(e,t,a),this.$message({message:"上传失败，请重新上传",type:"warning"})},handlePreviewVideo:function(e){console.log(e),this.uploading=!0}},watch:{addVideoDialogVisible:function(){if(!this.addVideoDialogVisible){var e=document.getElementById("addVideoTime");e&&e.pause()}},editVideoDialogVisible:function(){if(!this.editVideoDialogVisible){var e=document.getElementById("editVideoTime");e&&e.pause()}}}},se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("视频列表")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("div",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.addVideo()}}},[e._v("新增视频")])],1),e._v(" "),a("div",{staticClass:"row"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.videoDate,border:""}},[a("el-table-column",{attrs:{label:"ID",prop:"id",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属分类",prop:"categoryName"}}),e._v(" "),a("el-table-column",{attrs:{label:"视频名称",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"原始文件名",prop:"originName"}}),e._v(" "),a("el-table-column",{attrs:{label:"视频时长",prop:"duration",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.timer(t.row.duration)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"视频大小",prop:"fileSize",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s((Number(t.row.fileSize)/1e3/1e3).toFixed(2))+"M")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime",width:"96"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.moment(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最近修改时间",prop:"updateTime",width:"96"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.updateTime?a("div",[e._v(e._s(e.moment(t.row.updateTime)))]):e._e(),e._v(" "),t.row.updateTime?e._e():a("div",[e._v("-")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.editVideoItem(t.row)}}},[e._v("编辑\n              ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.detailVideoItem(t.row)}}},[e._v("查看\n              ")])],1),e._v(" "),a("div",{staticClass:"row"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.delVideoItem(t.row)}}},[e._v("删除\n              ")])],1)]}}])})],1)],1),e._v(" "),a("div",{staticClass:"row"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),a("el-dialog",{staticClass:"add-video",attrs:{title:"新增视频",visible:e.addVideoDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.addVideoDialogVisible=t}}},[a("el-form",{ref:"addFrom",attrs:{"label-position":"right","label-width":"120px",model:e.addVideoData,rules:e.addRules}},[a("el-form-item",{attrs:{label:"视频分类：",prop:"categoryId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addVideoData.categoryId,callback:function(t){e.$set(e.addVideoData,"categoryId",t)},expression:"addVideoData.categoryId"}},e._l(e.categoryData,function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"视频名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入视频名称"},model:{value:e.addVideoData.name,callback:function(t){e.$set(e.addVideoData,"name",t)},expression:"addVideoData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"视频简介：",prop:"introduction"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入视频简介",rows:"7"},model:{value:e.addVideoData.introduction,callback:function(t){e.$set(e.addVideoData,"introduction",t)},expression:"addVideoData.introduction"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传视频：",prop:"videoToken"}},[a("el-upload",{attrs:{action:e.upload.video,"on-error":e.handleErrVideo,accept:"video/*",disabled:e.uploading,"before-upload":e.handlePreviewVideo,"on-success":e.handleSuccessVideo,headers:e.headers}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.uploading}},[e._v("上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传单个mp4 文件，且不超过 1G")])],1),e._v(" "),e.videoUrl?a("video",{attrs:{src:e.videoUrl,controls:"",id:"addVideoTime",preload:"",autoplay:""}}):e._e()],1),e._v(" "),a("el-form-item",{staticClass:"video-druction",attrs:{label:"视频时长：",prop:"duration"}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.addVideoData.duration,callback:function(t){e.$set(e.addVideoData,"duration",t)},expression:"addVideoData.duration"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传缩略图：",prop:"thumbToken"}},[a("el-upload",{attrs:{action:e.upload.pic,accept:"image/*",headers:e.headers,"on-success":e.handleSuccessPic}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传单个jpg/png 文件，且不超过 800K，分辨率800*600")])],1),e._v(" "),e.imgUrl?a("img",{staticClass:"pic-1",attrs:{src:e.imgUrl,alt:""}}):e._e()],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addVideoDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitAddVideo("addFrom")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"add-video",attrs:{title:"编辑视频",visible:e.editVideoDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editVideoDialogVisible=t}}},[a("el-form",{ref:"editFrom",attrs:{"label-position":"right","label-width":"120px",model:e.editVideoData,rules:e.addRules}},[a("el-form-item",{attrs:{label:"视频分类：",prop:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editVideoData.categoryId,callback:function(t){e.$set(e.editVideoData,"categoryId",t)},expression:"editVideoData.categoryId"}},e._l(e.categoryData,function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"视频名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入视频名称"},model:{value:e.editVideoData.name,callback:function(t){e.$set(e.editVideoData,"name",t)},expression:"editVideoData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"视频简介： ",prop:"introduction"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入视频简介",rows:"7"},model:{value:e.editVideoData.introduction,callback:function(t){e.$set(e.editVideoData,"introduction",t)},expression:"editVideoData.introduction"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传视频",prop:""}},[a("el-upload",{attrs:{action:e.upload.video,"on-error":e.handleErrVideo,"before-upload":e.handlePreviewVideo,disabled:e.uploading,accept:"video/*","on-success":e.handleSuccessVideoEdit,headers:e.headers}},[a("el-button",{attrs:{size:"small",type:"primary",loading:e.uploading,disabled:e.uploading}},[e._v("上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传单个mp4 文件，且不超过 1G")])],1),e._v(" "),e.videoUrledit?a("video",{attrs:{src:e.videoUrledit,controls:"",id:"editVideoTime",autoplay:"",preload:""}}):e._e()],1),e._v(" "),a("el-form-item",{staticClass:"video-druction",attrs:{label:"视频时长",prop:"duration"}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.editVideoData.duration,callback:function(t){e.$set(e.editVideoData,"duration",t)},expression:"editVideoData.duration"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传缩略图",prop:""}},[a("el-upload",{attrs:{action:e.upload.pic,accept:"image/*",headers:e.headers,"on-success":e.handleSuccessPicEdit}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传单个jpg/png 文件，且不超过 800K，分辨率800*600")])],1),e._v(" "),e.imgUrl?a("img",{staticClass:"pic-1",attrs:{src:e.imgUrl,alt:""}}):e._e()],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editVideoDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitEditVideo("editFrom")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"add-video",attrs:{title:"删除视频",visible:e.delVideoDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.delVideoDialogVisible=t}}},[a("span",[e._v("你确认要删除该视频？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.delVideoDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.submitDelVideo()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var le=a("VU/8")(ie,se,!1,function(e){a("zXM4")},null,null).exports,ne={data:function(){return{data:{},path:{detail:"/video/find-by-id"}}},computed:{dataAuditStatus:function(){return this.$store.state.data.dataAuditStatus}},mounted:function(){this.getData()},methods:{moment:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")},getData:function(){var e=this,t=this.$route.query.id;I.baseGetData(this.path.detail,t).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.data=t.data.data})}}},oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"video-detail"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/video/list"}}},[e._v("视频列表")]),e._v(" "),a("el-breadcrumb-item",[e._v("视频详情")])],1)],1),e._v(" "),a("div",{staticClass:"row main-page"},[a("el-form",{ref:"form",attrs:{"label-width":"150px","label-position":"right"}},[a("el-form-item",{attrs:{label:"视频id："}},[a("div",[e._v(e._s(e.data.id))])]),e._v(" "),a("el-form-item",{attrs:{label:"所属分类："}},[a("div",[e._v(e._s(e.data.categoryName))])]),e._v(" "),a("el-form-item",{attrs:{label:"视频名称："}},[a("div",[e._v(e._s(e.data.name))])]),e._v(" "),a("el-form-item",{attrs:{label:"视频文件名："}},[a("div",[e._v(e._s(e.data.originName))])]),e._v(" "),a("el-form-item",{attrs:{label:"文件大小："}},[a("div",[e._v(e._s(e.data.fileSize))])]),e._v(" "),a("el-form-item",{attrs:{label:"视频时长："}},[a("div",[e._v(e._s(Math.floor(e.data.duration/3600%24))+" 时 "+e._s(Math.floor(e.data.duration/60%60))+" 分 "+e._s(Math.floor(e.data.duration%60))+"秒")])]),e._v(" "),a("el-form-item",{attrs:{label:"缩略图："}},[a("img",{attrs:{src:e.data.thumbUrl,alt:""}})]),e._v(" "),a("el-form-item",{attrs:{label:"视频预览："}},[a("video",{attrs:{src:e.data.url,controls:""}})]),e._v(" "),a("el-form-item",{attrs:{label:"添加时间："}},[a("div",[e._v(e._s(e.moment(e.data.createTime)))])]),e._v(" "),a("el-form-item",{attrs:{label:"最近修改时间："}},[e.data.updateTime?a("div",[e._v(e._s(e.moment(e.data.updateTime)))]):e._e()])],1)],1)])},staticRenderFns:[]};var re=a("VU/8")(ne,oe,!1,function(e){a("w8ZQ")},null,null).exports,de={name:"video-list",data:function(){return{categoryDate:[],tabMaxHeight:300,addCategoryDialogVisible:!1,addCategoryDate:{name:""},editCategoryDialogVisible:!1,editCategoryDate:{name:""},delCategoryDialogVisible:!1,delCategoryId:"",currentPage:1,pageSize:20,totalSize:0,categoryPath:{getPath:"/category/video",addPath:"",editPath:"",delPath:""}}},mounted:function(){this.getCategoryData()},methods:{getCategoryData:function(){var e=this;I.basePostData(this.categoryPath.getPath).then(function(t){var a=t.data.data;e.categoryDate=a;var i=document.body.clientHeight;e.tabMaxHeight=i-60-30-30-50-50})},addCategory:function(){this.addCategoryDate={name:""},this.addCategoryDialogVisible=!0},submitAddCategory:function(){var e=this;this.addCategoryDialogVisible=!1,I.basePostData(this.categoryPath.addPath,this.addCategoryDate).then(function(t){e.getCategoryData()})},delCategoryItem:function(e){this.delCategoryId=e.id,this.delCategoryDialogVisible=!0},submitDelCategory:function(){var e=this;this.delCategoryDialogVisible=!1,I.baseGetData(this.categoryPath.delPath,this.delCategoryId).then(function(t){e.getCategoryData()})},editCategoryItem:function(e){this.editCategoryDate.name=e.name,this.editCategoryDialogVisible=!0},submitEditCategory:function(){var e=this;this.editCategoryDialogVisible=!1,BaseService.basePostData(this.categoryPath.editPath,this.editCategoryDate).then(function(t){e.getCategoryData()})},handleClose:function(){this.addCategoryDialogVisible=!1,this.editCategoryDialogVisible=!1,this.delCategoryDialogVisible=!1},handleSizeChange:function(e){this.pageSize=e,this.getCategoryData()},handleCurrentChange:function(e){this.currentPage=e,this.getCategoryData()}}},ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("视频分类")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.categoryDate,border:"","max-height":e.tabMaxHeight}},[a("el-table-column",{attrs:{label:"ID",prop:"id",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"分类名称",prop:"name"}})],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"新增分类",visible:e.addCategoryDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.addCategoryDialogVisible=t}}},[a("el-input",{attrs:{placeholder:"请填写分类名称"},model:{value:e.addCategoryDate.name,callback:function(t){e.$set(e.addCategoryDate,"name",t)},expression:"addCategoryDate.name"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addCategoryDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitAddCategory()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑分类",visible:e.editCategoryDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editCategoryDialogVisible=t}}},[a("el-input",{attrs:{placeholder:"请填写分类名称"},model:{value:e.editCategoryDate.name,callback:function(t){e.$set(e.editCategoryDate,"name",t)},expression:"editCategoryDate.name"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editCategoryDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitEditCategory()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"add-video",attrs:{title:"删除分类",visible:e.delCategoryDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.delCategoryDialogVisible=t}}},[a("span",[e._v("你确认要删除该分类？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.delCategoryDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.submitDelCategory()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var ue=a("VU/8")(de,ce,!1,function(e){a("XAaX")},null,null).exports,me={name:"check-config",data:function(){return{data:[],checkPath:{getPath:"/video/config/check",savePath:"/video/config/check/setting"}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;this.data=[],I.baseGetData(this.checkPath.getPath,"").then(function(t){var a=t.data;"0x0000"===a.status?a.data.forEach(function(t){e.data.push({categoryId:t.categoryId,learnNum:t.learnNum,videoNum:t.videoNum,id:t.id,categoryName:t.categoryName})}):e.$message({showClose:!0,message:a.message,type:"warning"}),console.log(a)})},submitForm:function(){var e=this;I.basePostData(this.checkPath.savePath,this.data).then(function(t){var a=t.data;"0x0000"!==a.status?e.$message({showClose:!0,message:a.message,type:"warning"}):e.$message({showClose:!0,message:"保存成功",type:"success"}),e.getData()})}}},he={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("审验教育视频学习设置")])],1)],1),e._v(" "),a("div",{staticClass:"row main-page"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"label-width":"250px"}},[e._l(e.data,function(t,i){return a("el-form-item",{key:t.categoryId,attrs:{label:t.categoryName}},[a("el-input",{attrs:{disabled:!t.videoNum,placeholder:"分类视频数量"},model:{value:e.data[i].learnNum,callback:function(t){e.$set(e.data[i],"learnNum",t)},expression:"data[index].learnNum"}},[a("template",{slot:"append"},[e._v("共"+e._s(t.videoNum||0)+"个")])],2)],1)}),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],2)],1)])},staticRenderFns:[]};var pe=a("VU/8")(me,he,!1,function(e){a("qxHa")},null,null).exports,ve={name:"",data:function(){return{headers:{authKey:p("authKey")},tabMaxHeight:0,apiPath:{get:"/driver/page",audit:"/driver/audit",black:"/driver/ops/black",white:"/driver/ops/white",add:"/driver/add",edit:"/driver/update"},data:[],search:{pageSize:20,pageNum:1,id:"",phone:"",auditState:"",idType:"",idNo:"",licenseType:"",licenseNo:"",createTimeBegin:"",createTimeEnd:"",auditTimeBegin:"",auditTimeEnd:"",disabled:"",realname:""},creatTime:"",auditTime:"",driverTimeadd:[],driverTimeedit:[],totalSize:0,auditDialogVisible:!1,auditDate:{id:"",auditState:"",auditDesc:""},balckDialogVisible:!1,whiteDialogVisible:!1,currentId:"",addDialogVisible:!1,addData:{realname:"",idType:"",idNo:"",licenseType:[],licenseNo:"",licenseBeginDate:"",licenseEndDate:"",idCardImgUrlToken:"",headUrlToken:"",phone:""},idCardImgUrl:"",headUrl:"",addRules:{realname:[{required:!0,message:"请输入您的真实姓名",trigger:"blur"}],idType:[{required:!0,message:"请选择证件类型",trigger:"change"}],idNo:[{required:!0,message:"请输入证件号",trigger:"blur"}],licenseType:[{required:!0,message:"请选择驾照",trigger:"change"}],licenseNo:[{required:!0,message:"请输入驾照编号",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],licenseBeginDate:[{required:!0,message:"选择注册时间",trigger:"blur"}]},editDialogVisible:!1,editData:{realname:"",id:"",idType:"",idNo:"",licenseType:[],licenseNo:"",licenseBeginDate:"",licenseEndDate:"",idCardImgUrlToken:"",headUrlToken:"",phone:""}}},computed:{typeList:function(){return this.$store.state.data.typeList},idList:function(){return this.$store.state.data.idList},licenseList:function(){return this.$store.state.data.licenseList},auditList:function(){return this.$store.state.data.auditList},dataIdType:function(){return this.$store.state.data.dataIdType},dataAuditStatus:function(){return this.$store.state.data.dataAuditStatus},licenseListone:function(){return this.$store.state.data.licenseListone},idListone:function(){return this.$store.state.data.idListone}},mounted:function(){this.getData()},methods:{moment:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")},getData:function(){var e=this;I.basePostData(this.apiPath.get,this.search).then(function(t){var a=t.data;e.data=a.data.list,e.totalSize=a.data.total;var i=document.body.clientHeight;e.tabMaxHeight=i-60-30-117-50-50,"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"})})},reset:function(){this.search={id:"",phone:"",auditState:"",idType:"",idNo:"",licenseType:"",licenseNo:"",createTimeBegin:"",createTimeEnd:"",auditTimeBegin:"",auditTimeEnd:"",disabled:""},this.creatTime="",this.auditTime="",this.getData()},add:function(){this.idCardImgUrl="",this.headUrl="",this.addData={idType:"",idNo:"",licenseType:[],licenseNo:"",licenseBeginDate:"",licenseEndDate:"",idCardImgUrlToken:"",headUrlToken:"",phone:""},this.driverTime="",this.addDialogVisible=!0},submitAdd:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=t.addData.licenseType.join(",");t.addData.licenseType=a,I.basePostData(t.apiPath.add,t.addData).then(function(e){t.getData();var a=e.data;"0x0000"!==a.status?t.$message({message:a.message,type:"warning"}):(t.addDialogVisible=!1,t.$message({message:"添加成功",type:"success"}))})})},edit:function(e){this.idCardImgUrl="",this.headUrl="",this.editData.id=e.id,this.editData.realname=e.realname,this.editData.idType=e.idType,this.editData.idNo=e.idNo,this.editData.licenseType=e.licenseType.split(","),this.editData.licenseNo=e.licenseNo,this.editData.licenseBeginDate=e.licenseBeginDate,this.editData.licenseEndDate=e.licenseEndDate,this.editData.phone=e.phone,this.editDialogVisible=!0,this.driverTimeedit[0]=e.licenseBeginDate,this.driverTimeedit[1]=e.licenseEndDate},submitEdit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=t.editData.licenseType.join(",");t.editData.licenseType=a,I.basePostData(t.apiPath.edit,t.editData).then(function(e){var a=e.data;"0x0000"!==a.status?t.$message({message:a.message,type:"warning"}):(t.editDialogVisible=!1,t.$message({message:"编辑成功",type:"success"})),t.getData()})})},detail:function(e){this.$router.push("/driver/detail?id="+e.id)},auditItem:function(e){this.auditDate={id:"",auditState:"",auditDesc:""},this.auditDate.id=e.id,this.auditDialogVisible=!0},submitAudit:function(){var e=this;this.auditDialogVisible=!1,"PASSED"===this.auditDate.auditState&&(this.auditDate.auditDesc="通过"),I.basePostData(this.apiPath.audit,this.auditDate).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getData()})},blackItem:function(e){this.currentId=e.id,this.balckDialogVisible=!0},submitBlack:function(){var e=this;this.balckDialogVisible=!1,I.baseGetData(this.apiPath.black,this.currentId).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getData()})},whiteItem:function(e){this.currentId=e.id,this.whiteDialogVisible=!0},submitWhite:function(){var e=this;this.whiteDialogVisible=!1,I.baseGetData(this.apiPath.white,this.currentId).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getData()})},handleClose:function(){this.auditDialogVisible=!1,this.balckDialogVisible=!1,this.whiteDialogVisible=!1,this.addDialogVisible=!1,this.editDialogVisible=!1},handleSizeChange:function(e){this.search.pageSize=e,this.getData()},handleCurrentChange:function(e){this.search.pageNum=e,this.getData()},creatTimeChange:function(e){this.search.createTimeBegin=e[0],this.search.createTimeEnd=e[1]},auditTimeChange:function(e){this.search.auditTimeBegin=e[0],this.search.auditTimeEnd=e[1]},driverTimeChangeadd:function(e){this.addData.licenseBeginDate=e[0],this.addData.licenseEndDate=e[1]},driverTimeChangeedit:function(e){this.editData.licenseBeginDate=e[0],this.editData.licenseEndDate=e[1]},handleSuccessIdCard:function(e){this.addData.idCardImgUrlToken=e.data.token,this.idCardImgUrl=e.data.url},handleSuccessHead:function(e){this.addData.headUrlToken=e.data.token,this.headUrl=e.data.url}}},ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("驾驶人列表")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("div",{staticClass:" base-search"},[a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("用户id：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"用户id"},model:{value:e.search.id,callback:function(t){e.$set(e.search,"id",t)},expression:"search.id"}})],1),e._v(" "),a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("手机号码：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入手机号码"},model:{value:e.search.phone,callback:function(t){e.$set(e.search,"phone",t)},expression:"search.phone"}})],1)]),e._v(" "),a("div",{staticClass:"row senior-search"},[a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("证件类型：")]),e._v(" "),a("el-select",{attrs:{size:"small"},model:{value:e.search.idType,callback:function(t){e.$set(e.search,"idType",t)},expression:"search.idType"}},e._l(e.idList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.val}})}))],1),e._v(" "),a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("证件号码：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入证件号码"},model:{value:e.search.idNo,callback:function(t){e.$set(e.search,"idNo",t)},expression:"search.idNo"}})],1),e._v(" "),a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("真实姓名：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入您的真实姓名"},model:{value:e.search.realname,callback:function(t){e.$set(e.search,"realname",t)},expression:"search.realname"}})],1)]),e._v(" "),a("div",{staticClass:"row senior-search"},[a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("驾驶证类型：")]),e._v(" "),a("el-select",{attrs:{size:"small"},model:{value:e.search.licenseType,callback:function(t){e.$set(e.search,"licenseType",t)},expression:"search.licenseType"}},e._l(e.licenseList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.val}})}))],1),e._v(" "),a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("档案编号：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入档案编号"},model:{value:e.search.licenseNo,callback:function(t){e.$set(e.search,"licenseNo",t)},expression:"search.licenseNo"}})],1)]),e._v(" "),a("div",{staticClass:"row senior-search"},[a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("黑白名单：")]),e._v(" "),a("el-select",{attrs:{size:"small"},model:{value:e.search.disabled,callback:function(t){e.$set(e.search,"disabled",t)},expression:"search.disabled"}},e._l(e.typeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.val}})}))],1),e._v(" "),a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("审核状态：")]),e._v(" "),a("el-select",{attrs:{size:"small"},model:{value:e.search.auditState,callback:function(t){e.$set(e.search,"auditState",t)},expression:"search.auditState"}},e._l(e.auditList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.val}})}))],1)]),e._v(" "),a("div",{staticClass:"row senior-search"},[a("label",{attrs:{for:""}},[a("span",[e._v("注册时间范围：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"timestamp"},on:{change:e.creatTimeChange},model:{value:e.creatTime,callback:function(t){e.creatTime=t},expression:"creatTime"}})],1),e._v(" "),a("label",{attrs:{for:""}},[a("span",[e._v("审核时间范围：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"timestamp"},on:{change:e.auditTimeChange},model:{value:e.auditTime,callback:function(t){e.auditTime=t},expression:"auditTime"}})],1),e._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getData()}}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.reset()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.add()}}},[e._v("添加")])],1)]),e._v(" "),a("div",{staticClass:"row-data"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,border:"","min-height":"409"}},[a("el-table-column",{attrs:{label:"用户id",prop:"id",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"真实姓名",prop:"realname"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户手机",prop:"phone"}}),e._v(" "),a("el-table-column",{attrs:{label:"证件类型",prop:"idType",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.dataIdType[t.row.idType]))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"证件号",prop:"idNo"}}),e._v(" "),a("el-table-column",{attrs:{label:"准驾车型",prop:"licenseType",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"驾驶证档案编号",prop:"licenseNo"}}),e._v(" "),a("el-table-column",{attrs:{label:"注册时间",prop:"createTime",width:"96"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.moment(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"审核时间",prop:"auditTime",width:"96"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.auditTime?a("div",[e._v(e._s(e.moment(t.row.auditTime)))]):e._e(),e._v(" "),t.row.auditTime?e._e():a("div",[e._v("-")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"审核状态",prop:"auditState",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.dataAuditStatus[t.row.auditState]))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"拉黑状态",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.disabled?a("div",[e._v("已拉黑")]):e._e(),e._v(" "),t.row.disabled?e._e():a("div",[e._v("正常")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最近修改时间",prop:"updateTime",width:"96"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.updateTime?a("div",[e._v(e._s(e.moment(t.row.updateTime)))]):e._e(),e._v(" "),t.row.updateTime?e._e():a("div",[e._v("-")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.detail(t.row)}}},[e._v("\n                查看\n              ")]),e._v(" "),a("el-button",{attrs:{disabled:"INHAND"!==t.row.auditState,type:"primary",size:"mini"},on:{click:function(a){e.auditItem(t.row)}}},[e._v("\n                审核\n              ")])],1),e._v(" "),a("div",{staticClass:"row"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.edit(t.row)}}},[e._v("\n                编辑\n              ")]),e._v(" "),t.row.disabled?e._e():a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.blackItem(t.row)}}},[e._v("\n                拉黑\n              ")]),e._v(" "),t.row.disabled?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.whiteItem(t.row)}}},[e._v("\n                解封\n              ")]):e._e()],1)]}}])}),e._v("s\n      ")],1)],1),e._v(" "),a("div",{staticClass:" page-container"},[a("el-pagination",{attrs:{"current-page":e.search.currentPage,"page-sizes":[10,50],"page-size":e.search.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),a("el-dialog",{staticClass:"driver-",attrs:{title:"添加驾驶人",visible:e.addDialogVisible,width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"addFrom",staticClass:"add-form",attrs:{"label-position":"left","label-width":"0px",model:e.addData,rules:e.addRules}},[a("el-form-item",{attrs:{label:"",prop:"idType"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("证件类型：")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"用户证件类型"},model:{value:e.addData.idType,callback:function(t){e.$set(e.addData,"idType",t)},expression:"addData.idType"}},e._l(e.idListone,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.val}})}))],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"idNo"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("证件号码：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入证件号码"},model:{value:e.addData.idNo,callback:function(t){e.$set(e.addData,"idNo",t)},expression:"addData.idNo"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"realname"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("真实姓名：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入您的真实姓名"},model:{value:e.addData.realname,callback:function(t){e.$set(e.addData,"realname",t)},expression:"addData.realname"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"licenseType"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("驾驶证类型：")]),e._v(" "),a("el-select",{attrs:{size:"small",multiple:"",placeholder:"驾驶证类型"},model:{value:e.addData.licenseType,callback:function(t){e.$set(e.addData,"licenseType",t)},expression:"addData.licenseType"}},e._l(e.licenseListone,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name}})}))],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"licenseNo"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("驾驶证档案编号：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入驾驶证档案编号"},model:{value:e.addData.licenseNo,callback:function(t){e.$set(e.addData,"licenseNo",t)},expression:"addData.licenseNo"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"licenseBeginDate"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("注册时间范围：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"","start-placeholder":"请选择注册时间范围","end-placeholder":"","value-format":"timestamp"},on:{change:e.driverTimeChangeadd},model:{value:e.driverTimeadd,callback:function(t){e.driverTimeadd=t},expression:"driverTimeadd"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"idCardImgUrlToken"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://47.95.250.247/admin-api/file/image/upload","on-success":e.handleSuccessIdCard,headers:e.headers}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传驾驶人证件图片 （选填）")])],1),e._v(" "),e.idCardImgUrl?a("img",{staticClass:"pic",attrs:{src:e.idCardImgUrl,alt:""}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"headUrlToken"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://47.95.250.247/admin-api/file/image/upload","on-success":e.handleSuccessHead,headers:e.headers}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传驾驶人本人头像（选填） ")])],1),e._v(" "),e.headUrl?a("img",{staticClass:"pic",attrs:{src:e.headUrl,alt:""}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"phone"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("手机号码：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"手机号码"},model:{value:e.addData.phone,callback:function(t){e.$set(e.addData,"phone",t)},expression:"addData.phone"}})],1)]),e._v(" "),a("el-form-item",{staticClass:"btn-"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitAdd("addFrom")}}},[e._v("提 交")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")])],1)],1)],1),e._v(" "),a("el-dialog",{staticClass:"driver-",attrs:{title:"编辑驾驶人",visible:e.editDialogVisible,width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("el-form",{ref:"editFrom",staticClass:"add-form",attrs:{"label-position":"left","label-width":"0px",model:e.editData,rules:e.addRules}},[a("el-form-item",{attrs:{label:"",prop:"idType"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("证件类型：")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"证件类型"},model:{value:e.editData.idType,callback:function(t){e.$set(e.editData,"idType",t)},expression:"editData.idType"}},e._l(e.idListone,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.val}})}))],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"idNo"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("证件号码：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入证件号码"},model:{value:e.editData.idNo,callback:function(t){e.$set(e.editData,"idNo",t)},expression:"editData.idNo"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"realname"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("真实姓名：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入您的真实姓名"},model:{value:e.editData.realname,callback:function(t){e.$set(e.editData,"realname",t)},expression:"editData.realname"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"licenseType"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("驾驶证类型：")]),e._v(" "),a("el-select",{attrs:{size:"small",multiple:"",placeholder:"驾驶证类型"},model:{value:e.editData.licenseType,callback:function(t){e.$set(e.editData,"licenseType",t)},expression:"editData.licenseType"}},e._l(e.licenseListone,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name}})}))],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"licenseNo"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("驾驶证档案编号：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入驾驶证档案编号"},model:{value:e.editData.licenseNo,callback:function(t){e.$set(e.editData,"licenseNo",t)},expression:"editData.licenseNo"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"licenseBeginDate"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("注册时间范围：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"","start-placeholder":"请选择注册时间范围","end-placeholder":"","value-format":"timestamp"},on:{change:e.driverTimeChangeedit},model:{value:e.driverTimeedit,callback:function(t){e.driverTimeedit=t},expression:"driverTimeedit"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"idCardImgUrlToken"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://47.95.250.247/admin-api/file/image/upload","show-file-list":!1,"on-success":e.handleSuccessIdCard,headers:e.headers}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传驾驶人证件图片 （选填）")])],1),e._v(" "),e.idCardImgUrl?a("img",{staticClass:"pic",attrs:{src:e.idCardImgUrl,alt:""}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"headUrlToken"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://47.95.250.247/admin-api/file/image/upload","show-file-list":!1,"on-success":e.handleSuccessHead,headers:e.headers}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传驾驶人本人头像（选填） ")])],1),e._v(" "),e.headUrl?a("img",{staticClass:"pic",attrs:{src:e.headUrl,alt:""}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"phone"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{staticClass:"label-span "},[e._v("手机号码：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"手机号码"},model:{value:e.editData.phone,callback:function(t){e.$set(e.editData,"phone",t)},expression:"editData.phone"}})],1)]),e._v(" "),a("el-form-item",{staticClass:"btn-"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitEdit("editFrom")}}},[e._v("提 交")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"审核",visible:e.auditDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.auditDialogVisible=t}}},[a("div",[a("el-radio",{attrs:{label:"PASSED"},model:{value:e.auditDate.auditState,callback:function(t){e.$set(e.auditDate,"auditState",t)},expression:"auditDate.auditState"}},[e._v("通过")]),e._v(" "),a("el-radio",{attrs:{label:"REJECT"},model:{value:e.auditDate.auditState,callback:function(t){e.$set(e.auditDate,"auditState",t)},expression:"auditDate.auditState"}},[e._v("驳回")]),e._v(" "),"REJECT"===e.auditDate.auditState?a("el-input",{model:{value:e.auditDate.auditDesc,callback:function(t){e.$set(e.auditDate,"auditDesc",t)},expression:"auditDate.auditDesc"}}):e._e()],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.auditDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitAudit()}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"拉黑",visible:e.balckDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.balckDialogVisible=t}}},[a("span",[e._v("确认要将用户拉黑？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.balckDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitBlack()}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"解封",visible:e.whiteDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.whiteDialogVisible=t}}},[a("span",[e._v("确认要将用户解封？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.whiteDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitWhite()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]},be=a("VU/8")(ve,ge,!1,null,null,null).exports,fe={data:function(){return{data:{},path:{detail:"/driver/find-by-id"}}},computed:{dataAuditStatus:function(){return this.$store.state.data.dataAuditStatus},dataIdType:function(){return this.$store.state.data.dataIdType}},mounted:function(){this.getData()},methods:{moment:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")},getData:function(){var e=this,t=this.$route.query.id;I.baseGetData(this.path.detail,t).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.data=t.data.data})}}},_e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/driver/list"}}},[e._v("驾驶人列表")]),e._v(" "),a("el-breadcrumb-item",[e._v("驾驶人详情")])],1)],1),e._v(" "),a("div",{staticClass:"row main-page"},[a("el-form",{ref:"form",attrs:{"label-width":"200px","label-position":"right"}},[a("el-form-item",{attrs:{label:"用户id："}},[a("div",[e._v(e._s(e.data.id))])]),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名："}},[a("div",[e._v(e._s(e.data.realname))])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号码："}},[a("div",[e._v(e._s(e.data.phone))])]),e._v(" "),a("el-form-item",{attrs:{label:"证件类型："}},[a("div",[e._v(e._s(e.dataIdType[e.data.idType]))])]),e._v(" "),a("el-form-item",{attrs:{label:"证件号码："}},[a("div",[e._v(e._s(e.data.idNo))])]),e._v(" "),a("el-form-item",{attrs:{label:"证件图片："}},[a("img",{staticClass:"pic",staticStyle:{margin:"0px"},attrs:{src:e.data.idCardImgUrl,alt:""}})]),e._v(" "),a("el-form-item",{attrs:{label:"驾驶人本人头像："}},[a("img",{staticClass:"pic",staticStyle:{margin:"0px"},attrs:{src:e.data.headUrl,alt:""}})]),e._v(" "),a("el-form-item",{attrs:{label:"准驾车型："}},[a("div",[e._v(e._s(e.data.licenseType))])]),e._v(" "),a("el-form-item",{attrs:{label:"驾驶证档案编号："}},[a("div",[e._v(e._s(e.data.licenseNo))])]),e._v(" "),a("el-form-item",{attrs:{label:"驾驶证有效期限："}},[a("div",[e._v(e._s(e.moment(e.data.licenseBeginDate))+" --- "+e._s(e.moment(e.data.licenseEndDate)))])]),e._v(" "),a("el-form-item",{attrs:{label:"注册时间："}},[a("div",[e._v(e._s(e.moment(e.data.createTime)))])]),e._v(" "),a("el-form-item",{attrs:{label:"最近修改时间："}},[e.data.updateTime?a("div",[e._v(e._s(e.moment(e.data.updateTime)))]):e._e()]),e._v(" "),a("el-form-item",{attrs:{label:"审验状态："}},[a("div",[e._v(e._s(e.dataAuditStatus[e.data.auditState]))])])],1)],1)])},staticRenderFns:[]},De=a("VU/8")(fe,_e,!1,null,null,null).exports,ye={name:"",data:function(){return{apiPath:{get:"/question/page",add:"/question/add",edit:"/question/update",del:"/question/delete"},data:[],search:{id:null,subject:null,type:null,question:null,createTimeBegin:null,createTimeEnd:null,updateTimeBegin:null,updateTimeEnd:null,pageNum:1,pageSize:20,categoryId:null},totalSize:0,addDialogVisible:!1,addData:{subject:"",type:[],question:"",item1:"",item2:"",item3:"",item4:"",answer:"",explains:""},addRules:{subject:[{required:!0,message:"请选择科目类型",trigger:"change"}],type:[{required:!0,message:"请选择题目类型",trigger:"change"}],question:[{required:!0,message:"请填写题目",trigger:"change"}],item1:[{required:!0,message:"请填写答案A",trigger:"change"}],item2:[{required:!0,message:"请填写答案B",trigger:"change"}],answer:[{required:!0,message:"请填写答案",trigger:"change"}],explains:[{required:!0,message:"请填写详解",trigger:"change"}]},editDialogVisible:!1,editData:{id:"",subject:0,type:[],question:"",item1:"",item2:"",item3:"",item4:"",answer:"",explains:"",categoryIds:""},subjectList:[{name:"科目一",val:"1"},{name:"科目四",val:"4"}],answerList:["A","B","C","D"],tabMaxHeight:0,delDialogVisible:!1,delId:"",categoryDate:[],categoryPath:{getPath:"/category/question"},categoryIds:[],creatTime:"",updateTime:""}},computed:{licenseList:function(){return this.$store.state.data.licenseListone}},mounted:function(){this.getData()},methods:{moment:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")},getData:function(){var e=this;I.basePostData(this.apiPath.get,{id:this.search.id||null,subject:this.search.subject||null,type:this.search.type||null,question:this.search.question||null,createTimeBegin:this.search.createTimeBegin||null,createTimeEnd:this.search.createTimeEnd||null,updateTimeBegin:this.search.updateTimeBegin||null,updateTimeEnd:this.search.updateTimeEnd||null,pageNum:this.search.pageNum,pageSize:this.search.pageSize,categoryId:this.search.categoryId||null}).then(function(t){e.data=[];var a=t.data;e.data=a.data.list,e.totalSize=a.data.total,e.categoryIds=[];for(var i=0;i<e.data.length;i++)e.categoryIds.push(e.data[i].categoryId);var s=document.body.clientHeight;e.tabMaxHeight=s-60-30-117-50-50,"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"})}),I.basePostData(this.categoryPath.getPath,{}).then(function(t){var a=t.data.data;e.categoryDate=a})},reset:function(){this.search={id:null,subject:null,type:null,question:null,createTimeBegin:null,createTimeEnd:null,updateTimeBegin:null,updateTimeEnd:null,pageNum:this.search.pageNum,pageSize:this.search.pageSize},this.creatTime="",this.updateTime="",this.getData()},detail:function(e){this.$router.push("/question/detail?id="+e.id)},add:function(){this.addDialogVisible=!0},submitAdd:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.addData.type=t.addData.type.join(","),I.basePostData(t.apiPath.add,t.addData).then(function(e){var a=e.data;"0x0000"!==a.status?t.$message({message:a.message,type:"warning"}):(t.$message({message:"添加成功",type:"success"}),t.addDialogVisible=!1),t.getData()})})},edit:function(e){this.editData.id=e.id,this.editData.subject=e.subject,this.editData.type=e.type.split(","),this.editData.question=e.question,this.editData.item1=e.item1,this.editData.item2=e.item2,this.editData.item3=e.item3,this.editData.item4=e.item4,this.editData.answer=e.answer,this.editData.explains=e.explains,this.editDialogVisible=!0},submitEdit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.editData.type=t.editData.type.join(","),I.basePostData(t.apiPath.edit,t.editData).then(function(e){var a=e.data;"0x0000"!==a.status?t.$message({message:a.message,type:"warning"}):(t.$message({message:"编辑成功",type:"success"}),t.editDialogVisible=!1),t.getData()})})},del:function(e){this.delId=e.id,this.delDialogVisible=!0},submitDel:function(){var e=this;this.delDialogVisible=!1,I.baseGetData(this.apiPath.del,this.delId).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.getData()})},change:function(e,t){var a=this;this.editData=t,this.editData.categoryId=this.categoryIds[e],I.basePostData(this.apiPath.edit,this.editData).then(function(e){var t=e.data;"0x0000"!==t.status&&a.$message({message:t.message,type:"warning"}),a.getData()})},handleClose:function(){this.addDialogVisible=!1,this.editDialogVisible=!1,this.delDialogVisible=!1,this.getData()},handleSizeChange:function(e){this.search.pageSize=e,this.getData()},handleCurrentChange:function(e){this.search.pageNum=e,this.getData()},creatTimeChange:function(e){this.search.createTimeBegin=e[0],this.search.createTimeEnd=e[1]},updateTimeChange:function(e){this.search.updateTimeBegin=e[0],this.search.updateTimeEnd=e[1]}}},Ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("试题管理")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("div",{staticClass:"row base-search"},[a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("题目id：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"题目id"},model:{value:e.search.id,callback:function(t){e.$set(e.search,"id",t)},expression:"search.id"}})],1),e._v(" "),a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("题目关键字：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"题目关键字"},model:{value:e.search.question,callback:function(t){e.$set(e.search,"question",t)},expression:"search.question"}})],1)]),e._v(" "),a("div",{staticClass:"row base-search"},[a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("科目类别：")]),e._v(" "),a("el-select",{attrs:{size:"small"},model:{value:e.search.subject,callback:function(t){e.$set(e.search,"subject",t)},expression:"search.subject"}},e._l(e.subjectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.val}})}))],1),e._v(" "),a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("题目类型：")]),e._v(" "),a("el-select",{attrs:{size:"small"},model:{value:e.search.type,callback:function(t){e.$set(e.search,"type",t)},expression:"search.type"}},e._l(e.licenseList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name}})}))],1),e._v(" "),a("label",{staticClass:"category-list",attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("题目分类：")]),e._v(" "),a("el-select",{attrs:{size:"small"},model:{value:e.search.categoryId,callback:function(t){e.$set(e.search,"categoryId",t)},expression:"search.categoryId"}},e._l(e.categoryDate,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1)]),e._v(" "),a("div",{staticClass:"row senior-search"},[a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("创建时间范围：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"timestamp"},on:{change:e.creatTimeChange},model:{value:e.creatTime,callback:function(t){e.creatTime=t},expression:"creatTime"}})],1),e._v(" "),a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("更新时间范围：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"timestamp"},on:{change:e.updateTimeChange},model:{value:e.updateTime,callback:function(t){e.updateTime=t},expression:"updateTime"}})],1),e._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getData()}}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.reset()}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.add()}}},[e._v("添加")])],1)]),e._v(" "),a("div",{staticClass:"row-data "},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,border:""}},[a("el-table-column",{attrs:{label:"题目id",prop:"id",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"科目类别",prop:"phone",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.subject?a("div",[e._v("科目一")]):e._e(),e._v(" "),"4"===t.row.subject?a("div",[e._v("科目四")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"题目类型",prop:"type",width:"96"}}),e._v(" "),a("el-table-column",{attrs:{label:"题目分类",prop:"licenseType"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:function(a){e.change(t.$index,t.row)}},model:{value:e.categoryIds[t.$index],callback:function(a){e.$set(e.categoryIds,t.$index,a)},expression:"categoryIds[scope.$index]"}},e._l(e.categoryDate,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"题目问题",prop:"question"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",prop:"createTime",width:"96"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.moment(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最近修改时间",prop:"updateTime",width:"96"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.updateTime?a("div",[e._v(e._s(e.moment(t.row.updateTime)))]):e._e(),e._v(" "),t.row.updateTime?e._e():a("div",[e._v("-")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.detail(t.row)}}},[e._v("\n                查看\n              ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.edit(t.row)}}},[e._v("\n                编辑\n              ")])],1),e._v(" "),a("div",{staticClass:"row"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.del(t.row)}}},[e._v("\n                删除\n              ")])],1)]}}])}),e._v("s\n      ")],1)],1),e._v(" "),a("div",{staticClass:"row page-container"},[a("el-pagination",{attrs:{"current-page":e.search.pageNum,"page-sizes":[10,50],"page-size":e.search.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),a("el-dialog",{attrs:{title:"添加试题",visible:e.addDialogVisible,width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"addFrom",staticClass:"add-form",attrs:{"label-position":"left","label-width":"0",model:e.addData,rules:e.addRules}},[a("el-form-item",{attrs:{label:"",prop:"subject"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{},[e._v("科目类别：")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择科目类别"},model:{value:e.addData.subject,callback:function(t){e.$set(e.addData,"subject",t)},expression:"addData.subject"}},e._l(e.subjectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.val}})}))],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"type"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目类型：")]),e._v(" "),a("el-checkbox-group",{model:{value:e.addData.type,callback:function(t){e.$set(e.addData,"type",t)},expression:"addData.type"}},e._l(e.licenseList,function(e,t){return a("el-checkbox",{key:t,attrs:{label:e.name}})}))],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"question"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目问题：")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入题目问题",type:"textarea",rows:"7"},model:{value:e.addData.question,callback:function(t){e.$set(e.addData,"question",t)},expression:"addData.question"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"item1"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目答案A：")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入题目选项A（必填）"},model:{value:e.addData.item1,callback:function(t){e.$set(e.addData,"item1",t)},expression:"addData.item1"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"item2"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目答案B：")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入题目选项B（必填）"},model:{value:e.addData.item2,callback:function(t){e.$set(e.addData,"item2",t)},expression:"addData.item2"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"item3"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目答案C：")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入题目选项C"},model:{value:e.addData.item3,callback:function(t){e.$set(e.addData,"item3",t)},expression:"addData.item3"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"item4"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目答案D：")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入题目选项D"},model:{value:e.addData.item4,callback:function(t){e.$set(e.addData,"item4",t)},expression:"addData.item4"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"answer"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目答案：")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择题目答案"},model:{value:e.addData.answer,callback:function(t){e.$set(e.addData,"answer",t)},expression:"addData.answer"}},e._l(e.answerList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"explains"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目详解")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入题目详解",type:"textarea",rows:"7"},model:{value:e.addData.explains,callback:function(t){e.$set(e.addData,"explains",t)},expression:"addData.explains"}})],1)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitAdd("addFrom")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑试题",visible:e.editDialogVisible,width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.editDialogVisible=t}}},[a("el-form",{ref:"editData",staticClass:"add-form",attrs:{"label-position":"left","label-width":"0px",model:e.editData,rules:e.addRules}},[a("el-form-item",{attrs:{label:"",prop:"subject"}},[a("label",{staticClass:"driver-label",attrs:{for:""}},[a("span",{},[e._v("科目类别：")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择科目类别"},model:{value:e.editData.subject,callback:function(t){e.$set(e.editData,"subject",t)},expression:"editData.subject"}},e._l(e.subjectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.val}})}))],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"type"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目类型：")]),e._v(" "),a("el-checkbox-group",{model:{value:e.editData.type,callback:function(t){e.$set(e.editData,"type",t)},expression:"editData.type"}},e._l(e.licenseList,function(e,t){return a("el-checkbox",{key:t,attrs:{label:e.name}})}))],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"question"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目问题：")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入题目问题",type:"textarea",rows:"7"},model:{value:e.editData.question,callback:function(t){e.$set(e.editData,"question",t)},expression:"editData.question"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"item1"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目答案A：")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入题目选项A（必填）"},model:{value:e.editData.item1,callback:function(t){e.$set(e.editData,"item1",t)},expression:"editData.item1"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"item2"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目答案B：")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入题目选项B（必填）"},model:{value:e.editData.item2,callback:function(t){e.$set(e.editData,"item2",t)},expression:"editData.item2"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"item3"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目答案C：")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入题目选项C"},model:{value:e.editData.item3,callback:function(t){e.$set(e.editData,"item3",t)},expression:"editData.item3"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"item4"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目答案D：")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入题目选项D"},model:{value:e.editData.item4,callback:function(t){e.$set(e.editData,"item4",t)},expression:"editData.item4"}})],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"answer"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目答案：")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择题目答案"},model:{value:e.editData.answer,callback:function(t){e.$set(e.editData,"answer",t)},expression:"editData.answer"}},e._l(e.answerList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}))],1)]),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"explains"}},[a("label",{attrs:{for:""}},[a("span",{},[e._v("题目详解")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入题目详解",type:"textarea",rows:"7"},model:{value:e.editData.explains,callback:function(t){e.$set(e.editData,"explains",t)},expression:"editData.explains"}})],1)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitEdit("editData")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"删除",visible:e.delDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.delDialogVisible=t}}},[a("span",[e._v("确认要删除该试题？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.delDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitDel()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]},we=a("VU/8")(ye,Ce,!1,null,null,null).exports,Pe={name:"video-list",data:function(){return{categoryDate:[],tabMaxHeight:0,addCategoryDialogVisible:!1,addCategoryDate:{name:""},editCategoryDialogVisible:!1,editCategoryDate:{name:""},delCategoryDialogVisible:!1,delCategoryId:"",currentPage:1,pageSize:20,totalSize:0,categoryPath:{getPath:"/category/question",addPath:"",editPath:"",delPath:""}}},mounted:function(){this.getCategoryData()},methods:{getCategoryData:function(){var e=this;I.basePostData(this.categoryPath.getPath,{}).then(function(t){var a=t.data;e.categoryDate=a.data,e.totalSize=a.data.total;var i=document.body.clientHeight;e.tabMaxHeight=i-60-30-30-50-50,"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"})})},addCategory:function(){this.addCategoryDate={name:""},this.addCategoryDialogVisible=!0},submitAddCategory:function(){var e=this;this.addCategoryDialogVisible=!1,I.basePostData(this.categoryPath.addPath,this.addCategoryDate).then(function(t){e.getCategoryData()})},delCategoryItem:function(e){this.delCategoryId=e.id,this.delCategoryDialogVisible=!0},submitDelCategory:function(){var e=this;this.delCategoryDialogVisible=!1,I.baseGetData(this.categoryPath.delPath,this.delCategoryId).then(function(t){e.getCategoryData()})},editCategoryItem:function(e){this.editCategoryDate.name=e.name,this.editCategoryDialogVisible=!0},submitEditCategory:function(){var e=this;this.editCategoryDialogVisible=!1,BaseService.basePostData(this.categoryPath.editPath,this.editCategoryDate).then(function(t){e.getCategoryData()})},handleClose:function(){this.addCategoryDialogVisible=!1,this.editCategoryDialogVisible=!1,this.delCategoryDialogVisible=!1},handleSizeChange:function(e){this.pageSize=e,this.getCategoryData()},handleCurrentChange:function(e){this.currentPage=e,this.getCategoryData()}}},ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("试题分类")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.categoryDate,border:"","max-height":e.tabMaxHeight}},[a("el-table-column",{attrs:{label:"ID",prop:"id",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"分类名称",prop:"name"}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增分类",visible:e.addCategoryDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.addCategoryDialogVisible=t}}},[a("el-input",{attrs:{placeholder:"请填写分类名称"},model:{value:e.addCategoryDate.name,callback:function(t){e.$set(e.addCategoryDate,"name",t)},expression:"addCategoryDate.name"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addCategoryDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitAddCategory()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑分类",visible:e.editCategoryDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.editCategoryDialogVisible=t}}},[a("el-input",{attrs:{placeholder:"请填写分类名称"},model:{value:e.editCategoryDate.name,callback:function(t){e.$set(e.editCategoryDate,"name",t)},expression:"editCategoryDate.name"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.editCategoryDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.submitEditCategory()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"add-video",attrs:{title:"删除分类",visible:e.delCategoryDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.delCategoryDialogVisible=t}}},[a("span",[e._v("你确认要删除该分类？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.delCategoryDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.submitDelCategory()}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var Ve=a("VU/8")(Pe,ke,!1,function(e){a("1f2b")},null,null).exports,ze={name:"check-config",data:function(){return{ruleForm:{id:"",totalNum:0,period:"",detail:[]},checkPath:{getPath:"/question/config/check",savePath:"/question/config/check/setting"}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;this.ruleForm={id:"",totalNum:0,period:"",detail:[]},I.baseGetData(this.checkPath.getPath,"").then(function(t){var a=t.data;e.ruleForm.id=a.data.id,e.ruleForm.totalNum=a.data.totalNum,e.ruleForm.period=a.data.period,a.data.detail.forEach(function(t){e.ruleForm.detail.push({categoryName:t.categoryName,categoryId:t.categoryId,learnNum:t.learnNum,id:t.id,questionNum:t.questionNum})}),"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"})})},submitForm:function(){var e=this,t=0;this.ruleForm.detail.forEach(function(e){t+=Number(e.learnNum)}),t===Number(this.ruleForm.totalNum)?I.basePostData(this.checkPath.savePath,this.ruleForm).then(function(t){var a=t.data;"0x0000"!==a.status?e.$message({message:a.message,type:"warning"}):e.$message({showClose:!0,message:"保存成功",type:"success"}),e.getData()}):this.$message({message:"请检查你的分类题目数目",type:"warning"})}}},xe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("审验教育考试设置")])],1)],1),e._v(" "),a("div",{staticClass:"row main-page"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"250px"}},[a("el-form-item",{staticClass:"strong",attrs:{label:"总题目数",prop:"totalNum"}},[a("el-input",{attrs:{placeholder:"总题目数"},model:{value:e.ruleForm.totalNum,callback:function(t){e.$set(e.ruleForm,"totalNum",t)},expression:"ruleForm.totalNum"}},[a("template",{slot:"append"},[e._v("个")])],2)],1),e._v(" "),a("el-form-item",{staticClass:"strong",attrs:{label:"合格题数",prop:""}},[a("el-input",{attrs:{disabled:""}},[a("template",{slot:"append"},[e._v("个")])],2)],1),e._v(" "),a("el-form-item",{staticClass:"strong",attrs:{label:"考试时间",prop:"period"}},[a("el-input",{attrs:{placeholder:"考试时间"},model:{value:e.ruleForm.period,callback:function(t){e.$set(e.ruleForm,"period",t)},expression:"ruleForm.period"}},[a("template",{slot:"append"},[e._v("分")])],2)],1),e._v(" "),e._l(e.ruleForm.detail,function(t,i){return a("el-form-item",{key:t.categoryId,attrs:{label:t.categoryName}},[a("el-input",{attrs:{disabled:!t.questionNum,placeholder:"分类题目数"},model:{value:e.ruleForm.detail[i].learnNum,callback:function(t){e.$set(e.ruleForm.detail[i],"learnNum",t)},expression:"ruleForm.detail[index].learnNum"}},[a("template",{slot:"append"},[e._v("共"+e._s(t.questionNum||0)+"个")])],2)],1)}),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)],2)],1)])},staticRenderFns:[]};var Te=a("VU/8")(ze,xe,!1,function(e){a("AK5K")},null,null).exports,$e={data:function(){return{data:{},path:{detail:"/question/find-by-id"}}},computed:{dataAuditStatus:function(){return this.$store.state.data.dataAuditStatus}},mounted:function(){this.getData()},methods:{moment:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")},getData:function(){var e=this,t=this.$route.query.id;I.baseGetData(this.path.detail,t).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.data=t.data.data})}}},Se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/question/list"}}},[e._v("题目列表")]),e._v(" "),a("el-breadcrumb-item",[e._v("题目详情")])],1)],1),e._v(" "),a("div",{staticClass:"row main-page"},[a("el-form",{ref:"form",attrs:{"label-width":"200px"}},[a("el-form-item",{attrs:{label:"题目id："}},[a("div",[e._v(e._s(e.data.id))])]),e._v(" "),a("el-form-item",{attrs:{label:"题目分类："}},[a("div",[e._v(e._s(e.data.categoryName))])]),e._v(" "),a("el-form-item",{attrs:{label:"题目类型："}},[a("div",[e._v(e._s(e.data.type))])]),e._v(" "),a("el-form-item",{attrs:{label:"题目题干："}},[a("div",[e._v(e._s(e.data.question))])]),e._v(" "),a("el-form-item",{attrs:{label:"题目选项A："}},[a("div",[e._v(e._s(e.data.item1))])]),e._v(" "),a("el-form-item",{attrs:{label:"题目选项B："}},[a("div",[e._v(e._s(e.data.item2))])]),e._v(" "),e.data.item3?a("el-form-item",{attrs:{label:"题目选项C："}},[a("div",[e._v(e._s(e.data.item3))])]):e._e(),e._v(" "),e.data.item4?a("el-form-item",{attrs:{label:"题目选项D："}},[a("div",[e._v(e._s(e.data.item4))])]):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"正确答案："}},[a("div",[e._v(e._s(e.data.answer))])]),e._v(" "),a("el-form-item",{attrs:{label:"题目详解："}},[a("div",[e._v(e._s(e.data.explains))])]),e._v(" "),e.data.url?a("el-form-item",{attrs:{label:"缩略图："}},[a("img",{attrs:{src:e.data.url,alt:""}})]):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"添加时间："}},[a("div",[e._v(e._s(e.moment(e.data.createTime)))])]),e._v(" "),a("el-form-item",{attrs:{label:"最近修改时间："}},[e.data.updateTime?a("div",[e._v(e._s(e.moment(e.data.updateTime)))]):e._e()])],1)],1)])},staticRenderFns:[]},Ie=a("VU/8")($e,Se,!1,null,null,null).exports,Ae={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("预约管理")])},staticRenderFns:[]},Re=a("VU/8")(null,Ae,!1,null,null,null).exports,je={name:"notice",data:function(){return{data:{title:"",content:""},checkPath:{getPath:"/notice/find/global",savePath:"/notice/config/global"}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;I.baseGetData(this.checkPath.getPath,"").then(function(t){var a=t.data;a&&(e.data.title=a.data.title,e.data.content=a.data.content,"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}))})},submitForm:function(){var e=this;this.data.title&&this.data.content?I.basePostData(this.checkPath.savePath,this.data).then(function(t){var a=t.data;"0x0000"!==a.status?e.$message({message:a.message,type:"warning"}):e.$message({showClose:!0,message:"保存成功",type:"success"}),e.getData()}):this.$message({message:"请输入标题和内容",type:"warning"})}}},Me={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("通用公告设置")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("div",[a("label",{attrs:{for:""}},[a("span",[e._v("公告标题：")]),e._v(" "),a("el-input",{model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}})],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{attrs:{for:""}},[a("span",[e._v("公告内容：")]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:"10"},model:{value:e.data.content,callback:function(t){e.$set(e.data,"content",t)},expression:"data.content"}})],1)]),e._v(" "),a("div",{staticClass:"row"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)])])},staticRenderFns:[]},Ee=a("VU/8")(je,Me,!1,null,null,null).exports,Ne={name:"notice",data:function(){return{data:{title:"",content:""},checkPath:{getPath:"/notice/find/checkquestion",savePath:"/notice/config/checkquestion"}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;I.baseGetData(this.checkPath.getPath,"").then(function(t){var a=t.data;a&&(e.data.title=a.data.title,e.data.content=a.data.content,"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}))})},submitForm:function(){var e=this;this.data.title&&this.data.content?I.basePostData(this.checkPath.savePath,this.data).then(function(t){var a=t.data;"0x0000"!==a.status?e.$message({message:a.message,type:"warning"}):e.$message({showClose:!0,message:"保存成功",type:"success"}),e.getData()}):this.$message({message:"请输入标题和内容",type:"warning"})}}},Fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("审验教育考试公告设置")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("div",[a("label",{attrs:{for:""}},[a("span",[e._v("公告标题：")]),e._v(" "),a("el-input",{model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}})],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{attrs:{for:""}},[a("span",[e._v("公告内容：")]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:"10"},model:{value:e.data.content,callback:function(t){e.$set(e.data,"content",t)},expression:"data.content"}})],1)]),e._v(" "),a("div",{staticClass:"row"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)])])},staticRenderFns:[]},Le=a("VU/8")(Ne,Fe,!1,null,null,null).exports,Ue={name:"notice",data:function(){return{data:{title:"",content:""},checkPath:{getPath:"/notice/find/checkvideo",savePath:"/notice/config/checkvideo"}}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;I.baseGetData(this.checkPath.getPath,"").then(function(t){var a=t.data;a&&(e.data.title=a.data.title,e.data.content=a.data.content,"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}))})},submitForm:function(){var e=this;this.data.title&&this.data.content?I.basePostData(this.checkPath.savePath,this.data).then(function(t){var a=t.data;"0x0000"!==a.status?e.$message({message:a.message,type:"warning"}):e.$message({showClose:!0,message:"保存成功",type:"success"}),e.getData()}):this.$message({message:"请输入标题和内容",type:"warning"})}}},qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("审验教育公告设置")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("div",[a("label",{attrs:{for:""}},[a("span",[e._v("公告标题：")]),e._v(" "),a("el-input",{model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}})],1)]),e._v(" "),a("div",{staticClass:"row"},[a("label",{attrs:{for:""}},[a("span",[e._v("公告内容：")]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:"10"},model:{value:e.data.content,callback:function(t){e.$set(e.data,"content",t)},expression:"data.content"}})],1)]),e._v(" "),a("div",{staticClass:"row"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("保存")])],1)])])},staticRenderFns:[]},He=a("VU/8")(Ue,qe,!1,null,null,null).exports,Be={name:"",data:function(){return{headers:{authKey:p("authKey")},apiPath:{get:"/edurecord/page",grabrecord:"/edurecord/grabrecord"},data:[],search:{pageSize:20,pageNum:1,phone:"",createTimeBegin:"",createTimeEnd:"",realname:""},creatTime:"",totalSize:0,eduRecordId:"",eduRecordBgList:[],bgDialogVisible:!1}},computed:{typeList:function(){return this.$store.state.data.typeList},idList:function(){return this.$store.state.data.idList},licenseList:function(){return this.$store.state.data.licenseList},auditList:function(){return this.$store.state.data.auditList},dataIdType:function(){return this.$store.state.data.dataIdType},dataAuditStatus:function(){return this.$store.state.data.dataAuditStatus},licenseListone:function(){return this.$store.state.data.licenseListone},idListone:function(){return this.$store.state.data.idListone}},mounted:function(){this.getData()},methods:{look:function(e){this.eduRecordId=e.id,this.getGrabrecord(),this.bgDialogVisible=!0},moment:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")},getData:function(){var e=this;I.basePostData(this.apiPath.get,{phone:this.search.phone||null,createTimeBegin:this.search.createTimeBegin||null,createTimeEnd:this.search.createTimeEnd||null,realname:this.search.realname||null,pageNum:this.search.pageNum,pageSize:this.search.pageSize}).then(function(t){var a=t.data;e.data=a.data.list,e.totalSize=a.data.total,"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"})})},getGrabrecord:function(){var e=this;I.baseGetData(this.apiPath.grabrecord+"?eduRecordId="+this.eduRecordId).then(function(t){e.eduRecordBgList=t.data.data})},reset:function(){this.search={phone:"",createTimeBegin:"",createTimeEnd:"",realname:""},this.creatTime="",this.getData()},detail:function(e){this.$router.push("/edu-record-detail?id="+e.id)},handleClose:function(){this.bgDialogVisible=!1},handleSizeChange:function(e){this.search.pageSize=e,this.getData()},handleCurrentChange:function(e){this.search.pageNum=e,this.getData()},creatTimeChange:function(e){this.search.createTimeBegin=e[0],this.search.createTimeEnd=e[1]}}},Ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("教育记录列表")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("div",{staticClass:" base-search"},[a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("手机号码：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入手机号码"},model:{value:e.search.phone,callback:function(t){e.$set(e.search,"phone",t)},expression:"search.phone"}})],1),e._v(" "),a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("真实姓名：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入您的姓名"},model:{value:e.search.realname,callback:function(t){e.$set(e.search,"realname",t)},expression:"search.realname"}})],1)]),e._v(" "),a("div",{staticClass:"row senior-search"},[a("label",{attrs:{for:""}},[a("span",[e._v("注册时间范围：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"timestamp"},on:{change:e.creatTimeChange},model:{value:e.creatTime,callback:function(t){e.creatTime=t},expression:"creatTime"}})],1),e._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getData()}}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.reset()}}},[e._v("重置")])],1)]),e._v(" "),a("div",{staticClass:"row-data"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,border:"","min-height":"409"}},[a("el-table-column",{attrs:{label:"真实姓名",prop:"realname",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"手机号",prop:"phone",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"考试批次",prop:"batchNum",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"教育类型",prop:"eduType",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["CHECK"===t.row.eduType?a("div",[e._v("审验教育")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"证件类型",prop:"idType",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.dataIdType[t.row.idType]))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"证件号",prop:"idNo"}}),e._v(" "),a("el-table-column",{attrs:{label:"驾驶证档案编号",prop:"licenseNo"}}),e._v(" "),a("el-table-column",{attrs:{label:"注册时间",prop:"createTime",width:"96"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.moment(t.row.createTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.detail(t.row)}}},[e._v("\n              查看\n            ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.look(t.row)}}},[e._v("\n              抓拍\n            ")])]}}])}),e._v("s\n      ")],1)],1),e._v(" "),a("div",{staticClass:" page-container"},[a("el-pagination",{attrs:{"current-page":e.search.currentPage,"page-sizes":[10,50],"page-size":e.search.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"抓拍记录",visible:e.bgDialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.bgDialogVisible=t}}},[0===e.eduRecordBgList.length?a("div",[e._v("暂无数据")]):e._e(),e._v(" "),a("div",{attrs:{"else-if":""}},e._l(e.eduRecordBgList,function(e){return a("div",{key:e,staticClass:"piclist"},[a("img",{attrs:{src:e.imgUrl,alt:""}})])}))])],1)])},staticRenderFns:[]};var Oe=a("VU/8")(Be,Ye,!1,function(e){a("T5qL")},null,null).exports,Ke={data:function(){return{data:{},path:{detail:"/edurecord/detail"}}},computed:{dataAuditStatus:function(){return this.$store.state.data.dataAuditStatus},dataIdType:function(){return this.$store.state.data.dataIdType}},mounted:function(){this.getData()},methods:{moment:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")},moment2:function(e){return U()(e).format("YYYY-MM-DD")},getData:function(){var e=this,t=this.$route.query.id;I.baseGetData(this.path.detail,t).then(function(t){var a=t.data;"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"}),e.data=t.data.data})},print:function(){this.remove_ie_header_and_footer();var e=document.getElementById("print").innerHTML;document.body.innerHTML;return document.body.innerHTML=e,window.print(),window.location.reload(),!1},remove_ie_header_and_footer:function(){var e;e="HKEY_CURRENT_USER\\Software\\Microsoft\\Internet Explorer\\PageSetup\\";try{var t=new ActiveXObject("WScript.Shell");t.RegWrite(e+"header",""),t.RegWrite(e+"footer","")}catch(e){}}}},Ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/edu-record-list"}}},[e._v("教育记录列表")]),e._v(" "),a("el-breadcrumb-item",[e._v("记录详情")])],1)],1),e._v(" "),a("div",{staticClass:"row main-page"},[a("div",{attrs:{id:"print"}},[a("div",{staticClass:"print"},[a("div",{staticClass:"title"},[e._v("机动车驾驶人审验教育记录单")]),e._v(" "),a("div",{staticClass:"con1 row"},[a("div",{staticClass:"info"},[a("div",{staticClass:"info-item row"},[a("span",[e._v(" 姓名："+e._s(e.data.realname))]),e._v(" "),a("span",[e._v(" 准驾车型："+e._s(e.data.licenseType))])]),e._v(" "),a("div",{staticClass:"info-item row"},[a("span",[e._v("档案编号："+e._s(e.data.licenseNo))]),e._v(" "),a("span",[e._v("身份证号:"+e._s(e.data.idNo))])])]),e._v(" "),a("div",{staticClass:"img"},[a("img",{attrs:{src:e.data.headUrl,alt:""}})])]),e._v(" "),a("div",{staticClass:"con2 row"},[e._v("\n          该驾驶人于"+e._s(e.moment2(e.data.createTime))+"参加了道路交通安全法律法规、交通安全文明驾驶、应急处置等知识学习和交通事故案例警示教育。\n        ")]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"con5"},[e._v("\n          驾驶人签字：\n        ")])])]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.print()}}},[e._v("打印")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"con3"},[t("div",{staticClass:"row"},[this._v("市（县、区）公安机关")]),this._v(" "),t("div",{staticClass:"row"},[this._v("交通管理部门（印章）")]),this._v(" "),t("div",{staticClass:"row"},[this._v(" 年  月  日")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"con4"},[t("div",{staticClass:"title"},[this._v("参加审验教育须知")]),this._v(" "),t("div",{staticClass:"row"},[this._v("\n            机动车驾驶人参加审验教育不得由他人替学，不得扰乱课堂纪律，不得迟到早退，违反相关规定者取消本次参加教育资格，另行预约参加教育。\n          ")])])}]};var Xe=a("VU/8")(Ke,Ge,!1,function(e){a("PmWf")},null,null).exports,We={name:"",data:function(){return{headers:{authKey:p("authKey")},apiPath:{get:"/questionrecord/page"},data:[],search:{pageSize:20,pageNum:1,phone:"",createTimeBegin:"",createTimeEnd:"",realname:""},creatTime:"",totalSize:0}},computed:{typeList:function(){return this.$store.state.data.typeList},idList:function(){return this.$store.state.data.idList},licenseList:function(){return this.$store.state.data.licenseList},auditList:function(){return this.$store.state.data.auditList},dataIdType:function(){return this.$store.state.data.dataIdType},dataAuditStatus:function(){return this.$store.state.data.dataAuditStatus},licenseListone:function(){return this.$store.state.data.licenseListone},idListone:function(){return this.$store.state.data.idListone}},mounted:function(){this.getData()},methods:{moment:function(e){return U()(e).format("YYYY-MM-DD HH:mm:ss")},getData:function(){var e=this;I.basePostData(this.apiPath.get,{phone:this.search.phone||null,createTimeBegin:this.search.createTimeBegin||null,createTimeEnd:this.search.createTimeEnd||null,pageNum:this.search.pageNum,pageSize:this.search.pageSize,realname:this.search.realname||null}).then(function(t){var a=t.data;e.data=a.data.list,e.totalSize=a.data.total,"0x0000"!==a.status&&e.$message({message:a.message,type:"warning"})})},reset:function(){this.search={realname:"",phone:"",createTimeBegin:"",createTimeEnd:""},this.creatTime="",this.getData()},detail:function(e){this.$router.push("/edu-record-detail?id="+e.id)},handleSizeChange:function(e){this.search.pageSize=e,this.getData()},handleCurrentChange:function(e){this.search.pageNum=e,this.getData()},creatTimeChange:function(e){this.search.createTimeBegin=e[0],this.search.createTimeEnd=e[1]}}},Je={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("div",{staticClass:"row breadcrumb-container"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/bm"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("考试记录列表")])],1)],1),e._v(" "),a("div",{staticClass:"main-page"},[a("div",{staticClass:" base-search"},[a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("手机号码：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入手机号码"},model:{value:e.search.phone,callback:function(t){e.$set(e.search,"phone",t)},expression:"search.phone"}})],1),e._v(" "),a("label",{attrs:{for:""}},[a("span",{staticClass:"label-span"},[e._v("真实姓名：")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入您的姓名："},model:{value:e.search.realname,callback:function(t){e.$set(e.search,"realname",t)},expression:"search.realname"}})],1)]),e._v(" "),a("div",{staticClass:"row senior-search"},[a("label",{attrs:{for:""}},[a("span",[e._v("开始时间范围：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"timestamp"},on:{change:e.creatTimeChange},model:{value:e.creatTime,callback:function(t){e.creatTime=t},expression:"creatTime"}})],1),e._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getData()}}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.reset()}}},[e._v("重置")])],1)]),e._v(" "),a("div",{staticClass:"row-data"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,border:"","min-height":"409"}},[a("el-table-column",{attrs:{label:"真实姓名",prop:"realname"}}),e._v(" "),a("el-table-column",{attrs:{label:"手机号",prop:"phone"}}),e._v(" "),a("el-table-column",{attrs:{label:"考试批次",prop:"batchNum"}}),e._v(" "),a("el-table-column",{attrs:{label:"教育类型",prop:"eduType"},scopedSlots:e._u([{key:"default",fn:function(t){return["CHECK"===t.row.eduType?a("div",[e._v("审验教育")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"证件类型",prop:"idType"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.dataIdType[t.row.idType]))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"证件号",prop:"idNo"}}),e._v(" "),a("el-table-column",{attrs:{label:"驾驶证档案编号",prop:"licenseNo"}}),e._v(" "),a("el-table-column",{attrs:{label:"考试时间",prop:"createTime",width:"96"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.moment(t.row.createTime)))])]}}])})],1)],1),e._v(" "),a("div",{staticClass:" page-container"},[a("el-pagination",{attrs:{"current-page":e.search.currentPage,"page-sizes":[10,50],"page-size":e.search.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},staticRenderFns:[]},Qe=a("VU/8")(We,Je,!1,null,null,null).exports;i.default.use(c.a);var Ze=new c.a({routes:[{path:"/",component:V},{path:"/login",component:V},{path:"/bm",component:E,children:[{path:"/edu-record-list",component:Oe},{path:"/edu-record-detail",component:Xe},{path:"/question-record-list",component:Qe},{path:"/notice",component:Ee},{path:"/question/notice",component:Le},{path:"/video/notice",component:He},{path:"/",name:"home",component:x},{path:"/home",name:"home",component:x},{path:"/book/list",component:Re},{path:"/question/category",component:Ve},{path:"/question/check",component:Te},{path:"/question/list",component:we},{path:"/question/detail",component:Ie},{path:"/driver/list",component:be},{path:"/driver/detail",component:De},{path:"/video/list",component:le},{path:"/video/detail",component:re},{path:"/video/category",component:ue},{path:"/video/check",component:pe},{path:"/user/admin",name:"admin",component:B},{path:"/user/role",name:"role",component:K},{path:"/user/permission",name:"permission",component:W},{path:"/user/menu",name:"menu",component:Z},{path:"/user/log",name:"log",component:ae}]}]}),et=a("zL8q"),tt=a.n(et);a("tvR6"),a("GYl7");i.default.use(tt.a),i.default.config.productionTip=!1,new i.default({el:"#app",router:Ze,store:n,components:{App:d},template:"<App/>"})},PmWf:function(e,t){},T5qL:function(e,t){},UPfN:function(e,t){},XAaX:function(e,t){},YrwP:function(e,t){},aFoy:function(e,t){},bREw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={state:{searchId:""},mutations:{UPDATE_SEARCH_ID:function(e,t){e.searchId=t}},actions:{updateSearchId:function(e,t){(0,e.commit)("UPDATE_SEARCH_ID",t)}}}},gNcp:function(e,t,a){var i={"./data.js":"Evho","./index.js":"2mV7","./user.js":"bREw"};function s(e){return a(l(e))}function l(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(i)},s.resolve=l,e.exports=s,s.id="gNcp"},gRit:function(e,t){},qxHa:function(e,t){},tvR6:function(e,t){},uslO:function(e,t,a){var i={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function s(e){return a(l(e))}function l(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(i)},s.resolve=l,e.exports=s,s.id="uslO"},w8ZQ:function(e,t){},zXM4:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.44b062e33d93cb46d1cd.js.map